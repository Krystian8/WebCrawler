window.headertag=window.headertag||{},window.headertag.partnerScopes=[],window.headertagconfig={siteId:190045,enableSingleRequest:!0,disableInitialLoad:!0,overrideGoogletag:{display:!0,pubadsDisplay:!0,refresh:!0,destroySlots:!0,enableSingleRequest:!1,disableInitialLoad:!1},timeout:1e3,prefetch:{enabled:!1,pageTypeMapping:{},defaultSet:["4cf31c37-8a64-0152-6ad6-06b4bddbf950","e6b958a1-18a4-fcb5-8802-72297ac91326","5ee1ea11-fd9a-2aed-c89a-bcf2dee166f7","77102265-af91-4cb6-c977-651a001eeace","dd2f4d9b-1b05-a3b2-5d38-c7ddf4a9f8eb","97337070-4d37-3e82-3231-1e3d26bd4ae8","84b4c917-c232-bbab-fdbd-3fa8ce0a4d3b","e75c4ddc-19cd-81dc-0d1c-74c2f90865d4","e9db26a0-3829-69ef-6614-171eb3edbbcd","4ac6ec02-2bed-b9a2-1e2f-417fd28d172f","00d7f8ef-4d09-6d72-4b16-4e5727fcfca4","2814d2aa-d887-fd11-99e8-9956fde5ebff"]},htSlots:{desktop:{"4cf31c37-8a64-0152-6ad6-06b4bddbf950":{sizeMapping:{"0x0":[[728,90],[970,250]]},deviceType:"desktop",targeting:[{tile:["leaderboard"]}]},"e6b958a1-18a4-fcb5-8802-72297ac91326":{sizeMapping:{"0x0":[[300,250],[300,600]]},deviceType:"desktop",targeting:[{tile:["mpu0"]}]},"5ee1ea11-fd9a-2aed-c89a-bcf2dee166f7":{sizeMapping:{"0x0":[[300,251]]},deviceType:"desktop",targeting:[{tile:["mpu1"]}]},"77102265-af91-4cb6-c977-651a001eeace":{sizeMapping:{"0x0":[[300,252],[300,602]]},deviceType:"desktop",targeting:[{tile:["mpu2"]}]},"dd2f4d9b-1b05-a3b2-5d38-c7ddf4a9f8eb":{sizeMapping:{"0x0":[[300,253]]},deviceType:"desktop",targeting:[{tile:["mpu3"]}]},"97337070-4d37-3e82-3231-1e3d26bd4ae8":{sizeMapping:{"0x0":[[300,255]]},deviceType:"desktop",targeting:[{tile:["mpu5"]}]},"85d3a748-dbe8-d22d-e8ed-b31d1b2f9fc8":{sizeMapping:{"0x0":[[300,257],[300,607],[120,607],[160,607]]},deviceType:"desktop",targeting:[{tile:["mpu7"]}]}},mobile:{"84b4c917-c232-bbab-fdbd-3fa8ce0a4d3b":{sizeMapping:{"0x0":[[320,50]]},deviceType:"mobile",targeting:[{tile:["leaderboard"]}]},"e75c4ddc-19cd-81dc-0d1c-74c2f90865d4":{sizeMapping:{"0x0":[[300,250]]},deviceType:"mobile",targeting:[{tile:["mpu0"]}]},"e9db26a0-3829-69ef-6614-171eb3edbbcd":{sizeMapping:{"0x0":[[300,251]]},deviceType:"mobile",targeting:[{tile:["mpu1"]}]},"4ac6ec02-2bed-b9a2-1e2f-417fd28d172f":{sizeMapping:{"0x0":[[300,252]]},deviceType:"mobile",targeting:[{tile:["mpu2"]}]},"00d7f8ef-4d09-6d72-4b16-4e5727fcfca4":{sizeMapping:{"0x0":[[300,253]]},deviceType:"mobile",targeting:[{tile:["mpu3"]}]},"2814d2aa-d887-fd11-99e8-9956fde5ebff":{sizeMapping:{"0x0":[[320,51]]},deviceType:"mobile",targeting:[{tile:["mpu5"]}]},"7eb287b6-a151-1f06-9e6c-8395bd1f33fd":{sizeMapping:{"0x0":[[300,257],[300,607],[160,607],[120,607]]},deviceType:"mobile",targeting:[{tile:["mpu7"]}]}}},slotMappingTypes:["selectByCustomKeyValue"],partners:{AOL:{targetingType:"slot",prefetchEnabled:!0,timeout:0,disabled:!0,region:"eu",networkId:"4709.1",apiVersion:"3.0",roundingBuckets:{buckets:[{range:[0,20],granularity:.05},{range:[20,50],granularity:1}]},slots:{"4cf31c37-8a64-0152-6ad6-06b4bddbf950":[{placementId:"6500934",sizeId:"-1"},{placementId:"6500937",sizeId:"-1"}],"e6b958a1-18a4-fcb5-8802-72297ac91326":[{placementId:"6500936",sizeId:"-1"},{placementId:"6500928",sizeId:"-1"}],"5ee1ea11-fd9a-2aed-c89a-bcf2dee166f7":[{placementId:"6500932",sizeId:"-1"}],"77102265-af91-4cb6-c977-651a001eeace":[{placementId:"6500935",sizeId:"-1"},{placementId:"6500939",sizeId:"-1"}],"dd2f4d9b-1b05-a3b2-5d38-c7ddf4a9f8eb":[{placementId:"6500933",sizeId:"-1"}],"97337070-4d37-3e82-3231-1e3d26bd4ae8":[{placementId:"6500930",sizeId:"-1"}],"85d3a748-dbe8-d22d-e8ed-b31d1b2f9fc8":[{placementId:"6500929",sizeId:"-1"},{placementId:"6500931",sizeId:"-1"},{placementId:"6500941",sizeId:"-1"},{placementId:"6500940",sizeId:"-1"}],"84b4c917-c232-bbab-fdbd-3fa8ce0a4d3b":[{placementId:"6500943",sizeId:"-1"}],"e75c4ddc-19cd-81dc-0d1c-74c2f90865d4":[{placementId:"6500948",sizeId:"-1"}],"e9db26a0-3829-69ef-6614-171eb3edbbcd":[{placementId:"6500944",sizeId:"-1"}],"4ac6ec02-2bed-b9a2-1e2f-417fd28d172f":[{placementId:"6500950",sizeId:"-1"}],"00d7f8ef-4d09-6d72-4b16-4e5727fcfca4":[{placementId:"6500949",sizeId:"-1"}],"2814d2aa-d887-fd11-99e8-9956fde5ebff":[{placementId:"6500943",sizeId:"-1"}],"7eb287b6-a151-1f06-9e6c-8395bd1f33fd":[{placementId:"6500947",sizeId:"-1"},{placementId:"6500951",sizeId:"-1"},{placementId:"6500942",sizeId:"-1"},{placementId:"6500946",sizeId:"-1"}]}},CRTB:{targetingType:"slot",prefetchEnabled:!0,timeout:1e3,disabled:!1,roundingBuckets:{type:1,buckets:[{range:[.02,3],granularity:.02},{range:[3.05,6],granularity:.05},{range:[6.25,10],granularity:.25},{range:[10,15],granularity:.5},{range:[16,50],granularity:1}]},slots:{"4cf31c37-8a64-0152-6ad6-06b4bddbf950":[{zoneID:"701179"},{zoneID:"701177"}],"e6b958a1-18a4-fcb5-8802-72297ac91326":[{zoneID:"701176"},{zoneID:"701175"}],"5ee1ea11-fd9a-2aed-c89a-bcf2dee166f7":[{zoneID:"701180"}],"77102265-af91-4cb6-c977-651a001eeace":[{zoneID:"701181"},{zoneID:"701184"}],"dd2f4d9b-1b05-a3b2-5d38-c7ddf4a9f8eb":[{zoneID:"701182"}],"97337070-4d37-3e82-3231-1e3d26bd4ae8":[{zoneID:"701183"}],"84b4c917-c232-bbab-fdbd-3fa8ce0a4d3b":[{zoneID:"701178"}],"e75c4ddc-19cd-81dc-0d1c-74c2f90865d4":[{zoneID:"759396"}],"e9db26a0-3829-69ef-6614-171eb3edbbcd":[{zoneID:"759397"}],"4ac6ec02-2bed-b9a2-1e2f-417fd28d172f":[{zoneID:"759398"}],"00d7f8ef-4d09-6d72-4b16-4e5727fcfca4":[{zoneID:"759399"}],"2814d2aa-d887-fd11-99e8-9956fde5ebff":[{zoneID:"701185"}]}},FB:{targetingType:"slot",prefetchEnabled:!1,timeout:0,disabled:!1,roundingBuckets:{type:1,buckets:[{range:[0,20],granularity:.05},{range:[20,50],granularity:1}]},xSlots:{1:{placementId:"119270345381540_126925927949315",sizes:[[300,250]]},2:{placementId:"119270345381540_126926661282575",sizes:[[300,250]]}},mapping:{"e75c4ddc-19cd-81dc-0d1c-74c2f90865d4":["1"],"e9db26a0-3829-69ef-6614-171eb3edbbcd":["2"]}},INDX:{targetingType:"slot",prefetchEnabled:!0,timeout:0,disabled:!1,privateKey:"IOM",publicKey:"IOM",targetingMode:"standard"},OPENX:{targetingType:"slot",prefetchEnabled:!0,timeout:0,disabled:!1,deliveryDomain:"esimedia-d.openx.net",adUnits:{"4cf31c37-8a64-0152-6ad6-06b4bddbf950":[{sizes:[[728,90],[970,250]],auid:"538909803"}],"e6b958a1-18a4-fcb5-8802-72297ac91326":[{sizes:[[300,250],[300,600]],auid:"538909804"}],"5ee1ea11-fd9a-2aed-c89a-bcf2dee166f7":[{sizes:[[300,250]],auid:"538909805"}],"77102265-af91-4cb6-c977-651a001eeace":[{sizes:[[300,250],[300,600]],auid:"538909806"}],"dd2f4d9b-1b05-a3b2-5d38-c7ddf4a9f8eb":[{sizes:[[300,250]],auid:"538909807"}],"97337070-4d37-3e82-3231-1e3d26bd4ae8":[{sizes:[[300,250]],auid:"538909808"}],"85d3a748-dbe8-d22d-e8ed-b31d1b2f9fc8":[{sizes:[[120,600],[160,600],[300,250],[300,600]],auid:"539180401"}],"84b4c917-c232-bbab-fdbd-3fa8ce0a4d3b":[{sizes:[[320,50]],auid:"538909809"}],"e75c4ddc-19cd-81dc-0d1c-74c2f90865d4":[{sizes:[[300,250]],auid:"538909810"}],"e9db26a0-3829-69ef-6614-171eb3edbbcd":[{sizes:[[300,250]],auid:"538909811"}],"4ac6ec02-2bed-b9a2-1e2f-417fd28d172f":[{sizes:[[300,250]],auid:"538909812"}],"00d7f8ef-4d09-6d72-4b16-4e5727fcfca4":[{sizes:[[300,250]],auid:"538909813"}],"2814d2aa-d887-fd11-99e8-9956fde5ebff":[{sizes:[[320,50]],auid:"538909814"}],"7eb287b6-a151-1f06-9e6c-8395bd1f33fd":[{sizes:[[120,600],[160,600],[300,250],[300,600]],auid:"539180475"}]},roundingBuckets:{buckets:[{range:[.02,3],granularity:.02},{range:[3.05,6],granularity:.05},{range:[6.25,10],granularity:.25},{range:[10,15],granularity:.5},{range:[16,50],granularity:1}]}},PUBM:{targetingType:"slot",prefetchEnabled:!0,timeout:0,disabled:!1,roundingBuckets:{inputCentsMultiplier:100,outputCentsDivisor:1,outputPrecision:0,roundingType:1,floor:0,buckets:[{max:300,step:2},{max:600,step:5},{max:1e3,step:25},{max:1500,step:50},{max:5e3,step:100}]},pubId:153141,xSlots:{1:{adslot:"153141_indy_d_atf_970x250@970x250"},2:{adslot:"153141_indy_d_atf_728x90@728x90"},3:{adslot:"153141_indy_d_atf_300x600@300x600"},4:{adslot:"153141_indy_d_atf_300x250@300x250"},5:{adslot:"153141_indy_d_btf_300x251@300x250"},6:{adslot:"153141_indy_d_btf_300x252@300x250"},7:{adslot:"153141_indy_d_btf_300x602@300x600"},8:{adslot:"153141_indy_d_btf_300x253@300x250"},9:{adslot:"153141_indy_d_btf_300x255@300x250"},10:{adslot:"153141_indy_m_atf_320x50@320x50"},11:{adslot:"153141_indy_m_btf_300x250@300x250"},12:{adslot:"153141_indy_m_btf_300x251@300x250"},13:{adslot:"153141_indy_m_btf_300x252@300x250"},14:{adslot:"153141_indy_m_btf_300x253@300x250"},15:{adslot:"153141_indy_m_btf_320x51@320x50"}},mapping:{"4cf31c37-8a64-0152-6ad6-06b4bddbf950":["1","2"],"e6b958a1-18a4-fcb5-8802-72297ac91326":["3","4"],"5ee1ea11-fd9a-2aed-c89a-bcf2dee166f7":["5"],"77102265-af91-4cb6-c977-651a001eeace":["6","7"],"dd2f4d9b-1b05-a3b2-5d38-c7ddf4a9f8eb":["8"],"97337070-4d37-3e82-3231-1e3d26bd4ae8":["9"],"84b4c917-c232-bbab-fdbd-3fa8ce0a4d3b":["10"],"e75c4ddc-19cd-81dc-0d1c-74c2f90865d4":["11"],"e9db26a0-3829-69ef-6614-171eb3edbbcd":["12"],"4ac6ec02-2bed-b9a2-1e2f-417fd28d172f":["13"],"00d7f8ef-4d09-6d72-4b16-4e5727fcfca4":["14"],"2814d2aa-d887-fd11-99e8-9956fde5ebff":["15"]}}}},window.cygnus_index_args={name:"cygnus",embedMode:1,siteID:190045,slots:[{siteID:194400,width:300,height:250,id:"12"},{siteID:190045,width:728,height:90,id:"1"},{siteID:194391,width:300,height:250,id:"3"},{siteID:194392,width:300,height:600,id:"4"},{siteID:194393,width:300,height:250,id:"5"},{siteID:194394,width:300,height:250,id:"6"},{siteID:194395,width:300,height:600,id:"7"},{siteID:194396,width:300,height:250,id:"8"},{siteID:194397,width:300,height:250,id:"9"},{siteID:194398,width:320,height:50,id:"10"},{siteID:194399,width:300,height:250,id:"11"},{siteID:194390,width:970,height:250,id:"2"},{siteID:194401,width:300,height:250,id:"13"},{siteID:194402,width:300,height:250,id:"14"},{siteID:194403,width:320,height:50,id:"15"},{siteID:203919,width:300,height:250,id:"16"},{siteID:203920,width:300,height:600,id:"17"},{siteID:203922,width:120,height:600,id:"19"},{siteID:205245,width:300,height:250,id:"20"},{siteID:205246,width:300,height:600,id:"21"},{siteID:205247,width:160,height:600,id:"22"},{siteID:205248,width:120,height:600,id:"23"},{siteID:203921,width:160,height:600,id:"18"}],gpt_divs:{1:["4cf31c37-8a64-0152-6ad6-06b4bddbf950"],2:["4cf31c37-8a64-0152-6ad6-06b4bddbf950"],3:["e6b958a1-18a4-fcb5-8802-72297ac91326"],4:["e6b958a1-18a4-fcb5-8802-72297ac91326"],5:["5ee1ea11-fd9a-2aed-c89a-bcf2dee166f7"],6:["77102265-af91-4cb6-c977-651a001eeace"],7:["77102265-af91-4cb6-c977-651a001eeace"],8:["dd2f4d9b-1b05-a3b2-5d38-c7ddf4a9f8eb"],9:["97337070-4d37-3e82-3231-1e3d26bd4ae8"],10:["84b4c917-c232-bbab-fdbd-3fa8ce0a4d3b"],11:["e75c4ddc-19cd-81dc-0d1c-74c2f90865d4"],12:["e9db26a0-3829-69ef-6614-171eb3edbbcd"],13:["4ac6ec02-2bed-b9a2-1e2f-417fd28d172f"],14:["00d7f8ef-4d09-6d72-4b16-4e5727fcfca4"],15:["2814d2aa-d887-fd11-99e8-9956fde5ebff"],16:["85d3a748-dbe8-d22d-e8ed-b31d1b2f9fc8"],17:["85d3a748-dbe8-d22d-e8ed-b31d1b2f9fc8"],18:["85d3a748-dbe8-d22d-e8ed-b31d1b2f9fc8"],19:["85d3a748-dbe8-d22d-e8ed-b31d1b2f9fc8"],20:["7eb287b6-a151-1f06-9e6c-8395bd1f33fd"],21:["7eb287b6-a151-1f06-9e6c-8395bd1f33fd"],22:["7eb287b6-a151-1f06-9e6c-8395bd1f33fd"],23:["7eb287b6-a151-1f06-9e6c-8395bd1f33fd"]},targetMode:2},window.headertag.sizeRetargeting={"300x251":[300,250],"300x252":[300,250],"300x602":[300,600],"300x253":[300,250],"300x255":[300,250],"320x51":[320,50],"300x257":[300,250],"300x607":[300,600],"120x607":[120,600],"160x607":[160,600]},function(){"use strict";function e(){}function t(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function a(e,t){for(;3===e._state;)e=e._value;if(0===e._state)return void e._deferreds.push(t);e._handled=!0;var r=1===e._state?t.onFulfilled:t.onRejected;if(null===r)return void(1===e._state?n:i)(t.promise,e._value);var a;try{a=r(e._value)}catch(e){return void i(t.promise,e)}n(t.promise,a)}function n(e,a){try{if(a===e)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"==typeof a||"function"==typeof a)){var n=a.then;if(a instanceof r)return e._state=3,e._value=a,void o(e);if("function"==typeof n)return void s(t(n,a),e)}e._state=1,e._value=a,o(e)}catch(t){i(e,t)}}function i(e,t){e._state=2,e._value=t,o(e)}function o(e){2===e._state&&0===e._deferreds.length&&(e._handled||r._unhandledRejectionFn(e._value));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function d(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function s(e,t){var r=!1;try{e(function(e){r||(r=!0,n(t,e))},function(e){r||(r=!0,i(t,e))})}catch(e){if(r)return;r=!0,i(t,e)}}r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(t,r){var n=new this.constructor(e);return a(this,new d(t,r,n)),n},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,r){function a(i,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var d=o.then;if("function"==typeof d)return void d.call(o,function(e){a(i,e)},r)}t[i]=o,0===--n&&e(t)}catch(e){r(e)}}if(0===t.length)return e([]);for(var n=t.length,i=0;i<t.length;i++)a(i,t[i])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,r){r(e)})},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console},r.defer=function(){var e={};return e.promise=new r(function(t,r){e.resolve=t,e.reject=r}),e},window.headertag.Promise=r}(),function(){"use strict";function e(){function e(e,t){return e===t}function t(e){return"[object Object]"===Object.prototype.toString.call(e)}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function a(e){return"number"==typeof e}function n(e){return a(e)&&e%1===0}function i(e){return"string"==typeof e}function o(e){return"boolean"==typeof e}function d(e){return"function"==typeof e}function s(e){if(i(e)){if(""!==e)return!1}else if(t(e)){for(var a in e)if(e.hasOwnProperty(a))return!1}else if(r(e)&&e.length)return!1;return!0}function l(e,t,r){return!("number"==typeof t&&e<t)&&!("number"==typeof r&&e>r)}function c(t,r,a){a||(a=e);for(var n=0;n<t.length;n++){for(var i=!1,o=0;o<r.length&&!(i=a(t[n],r[o]));o++);if(!i)return!1}return!0}function p(e,t){return!!(t&&!e||e&&"string"==typeof e)}function u(e,t){return!!(t&&!e||e&&"function"==typeof e)}function g(e,t){return!!(t&&!e||e&&r(e)&&e.length)}function f(e,t){return!!(t&&!e||e&&"object"==typeof e&&!s(e))}function h(e,t,r,a){return!!(a&&"number"!=typeof e||"number"==typeof e&&n(e)&&("number"!=typeof t||e>=t)&&("number"!=typeof r||e<=r))}function m(e,t){return!!(t&&"boolean"!=typeof e||"boolean"==typeof e)}function y(){return window.googletag&&window.googletag.apiReady?googletag.pubads().getSlots().slice():null}function v(e){for(var t=y(),r=0,a=t.length;r<a;r++)if(t[r].getSlotElementId()===e)return t[r];return null}function b(e){e||(e=y());for(var t={},r=0,a=e.length;r<a;r++)t[e[r].getSlotElementId()]=e[r];return t}function w(e){e||(e=y());for(var t=[],r=0,a=e.length;r<a;r++)t.push(e[r].getSlotElementId());return t}function I(){return(new Date).getTime()}function S(){return navigator.userAgent.indexOf("Mobi")!==-1?"mobile":"desktop"}function T(){var e="CSS1Compat"===A.document.compatMode?A.document.documentElement:A.document.body;return e.clientWidth}function O(){var e="CSS1Compat"===A.document.compatMode?A.document.documentElement:A.document.body;return e.clientHeight}function _(e,t){return e=e||"http:",t=t||"https:","https:"===document.location.protocol?t:e}function P(){return A.location.href}function D(e,t,r){var a=document.createElement("script");a.type="text/javascript",a.async=t,a.src=("https:"===document.location.protocol?"https:":"http:")+e,a.onload=r,a.readyState&&(a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,r())});var n=document.getElementsByTagName("script")[0];return n.parentNode.insertBefore(a,n),a}function E(e,t,r,a){try{for(var n,i=window,o=0;;)if(!(r&&o<r)){if(a&&o>a)break;if(e&&(n=e(i)))return n;var d;try{d=i.frameElement}catch(e){d=null}if(!d){if(t&&(n=t(i)))return n;break}i=i.parent,o++}}catch(e){}return null}function x(){try{return window!==window.top}catch(e){return!0}}function R(e){var t="?";for(var r in e)e.hasOwnProperty(r)&&(t+=r+"="+e[r]+"&");return t.slice(0,-1)}function N(){return"_"+String((new Date).getTime()%2592e6)+String(Math.floor(16384*Math.random()))}function K(e){return e.length?e.splice(Math.floor(Math.random()*e.length),1)[0]:null}var A;return function(){A=E(null,function(e){return e})}(),{topWindow:A,isObject:t,isArray:r,isNumber:a,isInteger:n,isString:i,isBoolean:o,isFunction:d,isEmpty:s,isInRange:l,isArraySubset:c,validateNonEmptyString:p,validateFunction:u,validateNonEmptyArray:g,validateNonEmptyObject:f,validateInteger:h,validateBoolean:m,getGSlots:y,getSlots:y,divIdToGSlot:v,divIdToSlot:v,getDivIdToGSlotMap:b,getDivIdToSlotMap:b,getGSlotDivIds:w,getDivIds:w,now:I,getDeviceTypeByUserAgent:S,getViewportWidth:T,getViewportHeight:O,getProtocol:_,getPageUrl:P,addScriptTag:D,traverseContextTree:E,inIFrame:x,objToQueryString:R,generateCorrelator:N,randomSplice:K}}var t=e();window.headertag.Utilities=t,window.headertag.Utils=t}(),function(){"use strict";function e(e){function r(e){for(var t=["floor","inputCentsMultiplier","outputCentsDivisor","outputPrecision","roundingType"],r=0;r<t.length;r++){var a=t[r],n=d[a];"undefined"==typeof e[a]?o[a]=n:o[a]=e[a]}}function a(e){var t=o.floor;o.buckets=[];for(var r=0;r<e.length;r++){var a={};a.max=e[r].max,0!==o.roundingType&&(a.step=e[r].step),t=a.max,o.buckets.push(a)}}function n(e){return o.roundingType===s.FLOOR?Math.floor(e):o.roundingType===s.ROUND?Math.round(e):o.roundingType===s.CEIL?Math.ceil(e):e}function i(e){var r,a,i,d=o.floor,s=e;if(t.isEmpty(o))return e;if(s=Number(e),!t.isNumber(s)||Number.isNaN(s))throw new Error("INVALID_TYPE: `rawBid` must be a number");if(s<0)throw new Error("INVALID_VALUE: `rawBid` must be >= 0");if(s*=o.inputCentsMultiplier,i=o.buckets.length,s<o.floor)s=0;else if(s>=o.buckets[i-1].max)s=o.buckets[i-1].max;else{for(r=0;r<i&&(a=o.buckets[r],!(s<=a.max));r++)d=a.max;0!==o.roundingType&&(s-=d,s/=a.step,s=n(s),s*=a.step,s+=d)}return s/=o.outputCentsDivisor,s=o.outputPrecision<0?s.toString():s.toFixed(o.outputPrecision)}var o={},d={floor:0,inputCentsMultiplier:1,outputCentsDivisor:1,outputPrecision:-1,roundingType:0,buckets:[{max:1/0}]},s={NO_OP:0,FLOOR:1,ROUND:2,CEIL:3};return function(){return"undefined"==typeof e&&(e={}),t.isEmpty(e)?void(o={}):(r(e),void("undefined"==typeof e.roundingType&&"undefined"==typeof e.buckets?(o.roundingType=d.roundingType,o.buckets=d.buckets):a(e.buckets)))}(),{__type__:"BidRoundingTransformer",transformBid:i}}Number.isNaN=Number.isNaN||function(e){return"number"==typeof e&&isNaN(e)};var t=window.headertag.Utilities;window.headertag.BidRoundingTransformer=e}(),function(){"use strict";function e(){function e(){return o}function r(e){var r="";for(var a in e)if(e.hasOwnProperty(a))if(t.isArray(e[a]))for(var n=0;n<e[a].length;n++)r+=a+"[]="+encodeURIComponent(e[a][n])+"&";else r+=a+"="+encodeURIComponent(e[a])+"&";return r.slice(0,-1)}function a(e,t,r){return"/"!==e[e.length-1]&&t&&(e+="/"),t=t||[],r=r?"?"+r:"",e+t.join("/")+r}function n(e){var n=null,i=document.createElement("script");i.type="text/javascript";var o=!0;e.hasOwnProperty("async")&&(o=e.async),i.async=o;var d=e.url;if(e.data){var s;s=t.validateNonEmptyString(e.data)?e.data:r(e.data),d=a(e.url,null,s)}i.src=d;var l,c=!1;if(e.timeout&&(l=setTimeout(function(){try{c=!0,e.onTimeout&&e.onTimeout()}catch(e){}},e.timeout)),e.onSuccess){var p=function(){try{if(c){if(!e.continueAfterTimeout)return}else clearTimeout(l);e.onSuccess(null,t.now(),c),i.parentNode.removeChild(i)}catch(e){}};null===i.onload?i.onload=p:i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,p())}}var u=document.getElementsByTagName("script")[0];return n=t.now(),u.parentNode.insertBefore(i,u),n}function i(i){if(!e()){if(i.jsonp)return n(i);throw new Error("INTERNAL_ERROR: XHR is not supported in this browser.")}var o=null,d=new XMLHttpRequest,s=i.url,l=null;if(i.data)if("GET"===i.method){var c;c=t.validateNonEmptyString(i.data)?i.data:r(i.data),s=a(i.url,null,c)}else"POST"===i.method&&(l=t.validateNonEmptyString(i.data)?i.data:JSON.stringify(i.data));var p=!0;i.hasOwnProperty("async")&&(p=i.async),d.open(i.method,s,p);var u="application/x-www-form-urlencoded; charset=UTF-8";if("undefined"!=typeof i.contentType&&(u=i.contentType),u&&d.setRequestHeader("Content-Type",u),i.headers){i.headers.hasOwnProperty("X-Request-With")||d.setRequestHeader("X-Request-With","XMLHttpRequest");for(var g in i.headers)i.headers.hasOwnProperty(g)&&d.setRequestHeader(g,i.headers[g])}i.withCredentials&&(d.withCredentials=!0);var f,h=!1;return i.continueAfterTimeout?i.timeout&&(f=setTimeout(function(){try{h=!0,i.onTimeout&&i.onTimeout()}catch(e){}},i.timeout)):(i.timeout&&(d.timeout=i.timeout),i.onTimeout&&(d.ontimeout=function(){try{i.onTimeout()}catch(e){}})),(i.onSuccess||i.onFailure)&&(d.onreadystatechange=function(){if(4===d.readyState)if(h||clearTimeout(f),200===d.status){if(i.onSuccess)try{i.onSuccess(d.responseText,t.now(),h)}catch(e){}}else if(i.onFailure)try{i.onFailure(d.status)}catch(e){}}),o=t.now(),d.send(l),o}var o;return function(){o=window.XMLHttpRequest&&"string"==typeof(new XMLHttpRequest).responseType}(),{__type__:"Network",ajax:i,jsonp:n,buildUrl:a,objToQueryString:r,isXhrSupported:e}}var t=window.headertag.Utilities;window.headertag.Network=e()}(),function(){"use strict";function e(e){function a(e){l[e]=l[e]||{},l[e].startTime=r.now()}function n(e){l.hasOwnProperty(e)&&(l[e].stopTime=r.now())}function i(e,t,a){l[e].partners=l[e].partners||{},l[e].partners[t]=l[e].partners[t]||{},l[e].partners[t].timeout=a,l[e].partners[t].startTime=r.now()}function o(e,t){l.hasOwnProperty(e)&&(l[e].partners[t].stopTime=r.now())}function d(e,t,r,a){l.hasOwnProperty(e)&&(l[e].partners[t].targetingType=r,l[e].partners[t].returnedDemand=a)}function s(a){if(l.hasOwnProperty(a)){var n={};n.s=e,n.u=encodeURIComponent(document.location.href),n.type="RT",n.r=a.replace("_",""),n.t0=l[a].startTime,n.t1=l[a].stopTime||-1;var i=l[a].partners;for(var o in i)if(i.hasOwnProperty(o)){var d=-1,s=1;i[o].startTime&&i[o].stopTime&&(d=i[o].stopTime-i[o].startTime,s=0),n[o+".t"]=d,n[o+".to"]=s,n[o+".ts"]=i[o].timeout||-1;var c=null;if(i[o].hasOwnProperty("returnedDemand"))if("page"===i[o].targetingType)for(c in i[o].returnedDemand.page.demand)i[o].returnedDemand.page.demand.hasOwnProperty(c)&&(n[o+".p.pl."+c]=i[o].returnedDemand.page.demand[c].toString()||"");else for(var p in i[o].returnedDemand.slot)if(i[o].returnedDemand.slot.hasOwnProperty(p))for(c in i[o].returnedDemand.slot[p].demand)i[o].returnedDemand.slot[p].demand.hasOwnProperty(c)&&(n[o+".p."+p+"."+c]=i[o].returnedDemand.slot[p].demand[c].toString()||"")}t.ajax({async:!0,data:n,jsonp:!0,method:"GET",url:r.getProtocol("http://as","https://as-sec")+".casalemedia.com/headerstats"}),delete l[a]}}var l={};this.startSessionTimer=a,this.stopSessionTimer=n,this.startPartnerTimer=i,this.stopPartnerTimer=o,this.recordReturnedDemand=d,this.sendReport=s}var t=window.headertag.Network,r=window.headertag.Utilities;window.headertag.HeaderStats=e}(),function(){"use strict";function e(e,t){function r(e,t){return Number(e)-Number(t)}function a(){return g}function n(){return f}function i(e,t){var a,n,i,o,d=[];a=Object.keys(y).sort(r);for(var s=a.length-1;s>=0;s--)if(i=a[s],!(Number(i)>e)){n=Object.keys(y[i]).sort(r);for(var l=n.length-1;l>=0;l--)if(o=n[l],!(Number(o)>t)){d=y[i][o];break}if(d.length>0)break}return d}function o(){return v}function d(){return b}function s(){return w}function l(){return I}function c(){return h}function p(){return m}function u(e){S=e}var g,f,h,m,y,v,b,w,I,S;return function(){g=e,t.hasOwnProperty("divId")&&(f=t.divId);var r,a,n,i=/^(\d+)x(\d+)$/;y={};for(var o in t.sizeMapping)t.sizeMapping.hasOwnProperty(o)&&(r=i.exec(o),a=r[1],n=r[2],y.hasOwnProperty(a)||(y[a]={}),y[a][n]=t.sizeMapping[o]);t.hasOwnProperty("targeting")&&(v=t.targeting),t.hasOwnProperty("deviceType")&&(b=t.deviceType),t.hasOwnProperty("adUnitPath")&&(w=t.adUnitPath),t.hasOwnProperty("adUnitPathRegEx")&&(I=new RegExp(t.adUnitPathRegEx)),t.hasOwnProperty("divIdRegEx")&&(h=new RegExp(t.divIdRegEx)),t.hasOwnProperty("divIdRegExBySize")&&(m=new RegExp(t.divIdRegExBySize))}(),{getId:a,getSlotElementId:a,getDivId:n,getSizes:i,getTargeting:o,getDeviceType:d,getAdUnitPath:s,getDivIdRegEx:c,getDivIdRegExBySize:p,getAdUnitPathRegEx:l,setGSlotRef:u}}var t=window.headertag.Utilities;e.__isObjectSubset=function(r,a){for(var n in r)if(r.hasOwnProperty(n)){if("!"===n[0]){var i=n.substring(1);if(a.hasOwnProperty(i)){if(1===r[n].length&&"*"===r[n][0])return!1;for(var o=0;o<r[n].length;o++){var d=[r[n][o]];if(t.isArraySubset(d,a[i],e.__targetingMatcher))return!1}continue}}if(!a.hasOwnProperty(n))return!1;if((1!==r[n].length||"*"!==r[n][0])&&!t.isArraySubset(r[n],a[n],e.__targetingMatcher))return!1}return!0},e.__matcher=function(e,t){return e[0]===t[0]&&e[1]===t[1]},e.__targetingMatcher=function(e,t){return String(e)===String(t)},e.__getGSlotSizes=function(e,t,r){var a=[],n=e.getSizes(t,r);if(!n)return[];for(var i=0;i<n.length;i++)"fluid"!==n[i]&&a.push([n[i].getWidth(),n[i].getHeight()]);return a},e.__getGSlotTargeting=function(e){for(var t={},r=e.getTargetingKeys(),a=0;a<r.length;a++)t[r[a]]=e.getTargeting(r[a]);return t},e.selectByStaticDivId=function(e,t){for(var r={selectedHtSlots:[],htSlotToGSlotMap:{}},a=t.length-1;a>=0;a--)for(var n=t[a],i=e.length-1;i>=0;i--){var o=e[i];if(o.getDivId()&&o.getDivId()===n.getSlotElementId()){t.splice(a,1),e.splice(i,1),r.selectedHtSlots.push(o),r.htSlotToGSlotMap[o.getSlotElementId()]=n.getSlotElementId();break}}return r},e.selectByDivIdRegExBySize=function(r,a){for(var n={selectedHtSlots:[],htSlotToGSlotMap:{}},i=t.getViewportWidth(),o=t.getViewportHeight(),d=a.length-1;d>=0;d--){for(var s=a[d],l={selectedHtSlot:null,selectedHtSlotIndex:0,sizeMatchScore:0},c=r.length-1;c>=0;c--){var p=r[c];if(p.getDivIdRegExBySize()&&p.getDivIdRegExBySize().test(s.getSlotElementId())){var u=p.getSizes(i,o);if(u){var g=e.__getGSlotSizes(s,i,o);if(t.isArraySubset(u,g,e.__matcher)){var f=u.length/g.length;f>=l.sizeMatchScore&&(l.sizeMatchScore=f,l.selectedHtSlot=p,l.selectedHtSlotIndex=c)}}}}l.selectedHtSlot&&(a.splice(d,1),r.splice(l.selectedHtSlotIndex,1),n.selectedHtSlots.push(l.selectedHtSlot),n.htSlotToGSlotMap[l.selectedHtSlot.getSlotElementId()]=s.getSlotElementId())}return n},e.selectByDivIdRegEx=function(e,t){for(var r={selectedHtSlots:[],htSlotToGSlotMap:{}},a=t.length-1;a>=0;a--)for(var n=t[a],i=e.length-1;i>=0;i--){var o=e[i];if(o.getDivIdRegEx()&&o.getDivIdRegEx().test(n.getSlotElementId())){t.splice(a,1),e.splice(i,1),r.selectedHtSlots.push(o),r.htSlotToGSlotMap[o.getSlotElementId()]=n.getSlotElementId();break}}return r},e.selectByCustomKeyValue=function(r,a){for(var n={selectedHtSlots:[],htSlotToGSlotMap:{}},i=t.getViewportWidth(),o=t.getViewportHeight(),d=a.length-1;d>=0;d--){for(var s=a[d],l={selectedHtSlot:null,selectedHtSlotIndex:0,sizeMatchScore:0,targetingMatchScore:0},c=0;c<r.length;c++){var p=r[c],u=p.getSizes(i,o);if(u){var g=e.__getGSlotSizes(s,i,o);if(t.isArraySubset(u,g,e.__matcher)){var f=u.length/g.length;if(!(f<l.sizeMatchScore)){var h=p.getTargeting();if(h){for(var m=e.__getGSlotTargeting(s),y=!1,v=0,b=0;b<h.length;b++)if(h[b])if(t.validateNonEmptyObject(h[b])){if(e.__isObjectSubset(h[b],m)){var w=0;for(var I in h[b])h[b].hasOwnProperty(I)&&(w+=h[b][I].length);v=Math.max(v,w)}}else y=!0;if(y||0!==v)if(f>l.sizeMatchScore)l.sizeMatchScore=f,l.targetingMatchScore=v,l.selectedHtSlot=p,l.selectedHtSlotIndex=c;else if(f===l.sizeMatchScore){if(v<=l.targetingMatchScore)continue;l.sizeMatchScore=f,l.targetingMatchScore=v,l.selectedHtSlot=p,l.selectedHtSlotIndex=c}}}}}}l.selectedHtSlot&&(a.splice(d,1),r.splice(l.selectedHtSlotIndex,1),n.selectedHtSlots.push(l.selectedHtSlot),n.htSlotToGSlotMap[l.selectedHtSlot.getSlotElementId()]=s.getSlotElementId())}return n},e.selectByAdUnitPath=function(r,a){for(var n={selectedHtSlots:[],htSlotToGSlotMap:{}},i=t.getViewportWidth(),o=t.getViewportHeight(),d=a.length-1;d>=0;d--)for(var s=a[d],l=r.length-1;l>=0;l--){var c=r[l],p=c.getAdUnitPath();if(p&&s.getAdUnitPath()===p){var u=c.getSizes(i,o);if(u){var g=e.__getGSlotSizes(s,i,o);if(t.isArraySubset(u,g,e.__matcher)){a.splice(d,1),r.splice(l,1),n.selectedHtSlots.push(c),n.htSlotToGSlotMap[c.getSlotElementId()]=s.getSlotElementId();break}}}}return n},e.selectByAdUnitPathRegEx=function(r,a){for(var n={selectedHtSlots:[],htSlotToGSlotMap:{}},i=t.getViewportWidth(),o=t.getViewportHeight(),d=a.length-1;d>=0;d--)for(var s=a[d],l=r.length-1;l>=0;l--){var c=r[l],p=c.getAdUnitPathRegEx();if(p&&p.test(s.getAdUnitPath())){var u=c.getSizes(i,o);if(u){var g=e.__getGSlotSizes(s,i,o);if(t.isArraySubset(u,g,e.__matcher)){a.splice(d,1),r.splice(l,1),n.selectedHtSlots.push(c),n.htSlotToGSlotMap[c.getSlotElementId()]=s.getSlotElementId();break}}}}return n},window.headertag.HeaderTagSlot=e}(),window.headertag.partnerScopes.push(function(){"use strict";function validateTargetingType(e){return"string"==typeof e&&SUPPORTED_TARGETING_TYPES[e]}function isValidInteger(e){return/^\-?(0|[1-9]\d*)$/.test(e)}function Partner(config){function generateRequestUrl(e){var t=baseUrl;if(e.hasOwnProperty("id")&&e.hasOwnProperty("pageId")&&e.hasOwnProperty("sizeId")){if(t+="/"+e.id,t+="/"+e.pageId,t+="/"+e.sizeId,t+="/ADTECH;",e.parameters)for(var r in e.parameters)e.parameters.hasOwnProperty(r)&&(t+=r+"="+e.parameters[r]+";");return t}}function roundBid(e){for(var t=1e6,r=Math.round(Number(e)/1*t)/t,a=1,n=0,i=Number.POSITIVE_INFINITY,o=0,d=roundingBuckets.buckets.length;o<d;o++){var s=roundingBuckets.buckets[o];if(s.range[0]<i&&(i=s.range[0]),s.range[1]>n&&(n=s.range[1]),r>=s.range[0]&&r<=s.range[1])return a=s.granularity,r=Math.round(r/a*t)/t,r=Math.round(Math.floor(r)*t)/t,r=Math.round(r*a*t)/t,r=Math.round(100*r*t)/t,r=Math.round(r)}return r<i?r=0:r>n&&(r=n),Math.floor(Math.round(100*r*t)/t)}function parseResponse(e,t,r,a){var n={};n.demand={};try{var i=t;if(i&&i.hasOwnProperty("nbr"))return n;var o=i.seatbid[0].bid[0];if(!o.hasOwnProperty("adm")||""===o.adm)return;if(!o.hasOwnProperty("price")||""===o.price||o.price<=0||isNaN(o.price))return;if(!o.hasOwnProperty("w")||""===o.w||o.w<=0||isNaN(o.w)||!isValidInteger(o.w))return;if(!o.hasOwnProperty("h")||""===o.h||o.h<=0||isNaN(o.h)||!isValidInteger(o.h))return;if(i.hasOwnProperty("ext")&&i.ext.hasOwnProperty("pixels")){var d=document.createElement("iframe");d.setAttribute("style","visibility:hidden;display:none");var s=document.getElementsByTagName("script")[0];s.parentElement.appendChild(d),d.contentWindow.document.open("text/html","replace"),d.contentWindow.document.write(i.ext.pixels),d.contentWindow.document.close()}if(n.cpm=o.price,n.cpm=roundBid(n.cpm),0===Number(n.cpm))return;n.adm=o.adm,n.slotid=a,n.divId=r,n.width=o.w,n.height=o.h,o.hasOwnProperty("dealid")&&(n.dealid=o.dealid),n.demand={},n.dealid&&(n.demand[pmKey]=n.width+"x"+n.height+"_"+n.dealid),n.cpm&&(n.demand[omKey]=n.width+"x"+n.height+"_"+n.cpm)}catch(e){}return n}function generateResponseCallback(e,t){return function(r){adResponseStore[e]=r,delete window[t]}}function sendDemandRequest(param,placement,callback,slotid){var requestObj={},requestId=getUniqueId(),callbackName="ix_aol_cb"+requestId;requestObj.id=param.placementId,requestObj.pageId=param.pageId||0,requestObj.sizeId=param.sizeId||-1,requestObj.parameters={cmd:"bid",cors:"yes",v:"2",misc:(new Date).getTime(),callback:callbackName},param.hasOwnProperty("bidFloor")&&"string"==typeof param.bidFloor&&!isNaN(param.bidFloor)&&param.bidFloor>0&&(requestObj.parameters.bidFloor=param.bidFloor);var url=generateRequestUrl(requestObj);
null!==url&&(window[callbackName]=generateResponseCallback(requestId,callbackName),Network.ajax({url:url,method:"GET",partnerId:"AOL",jsonp:!0,withCredentials:!0,onSuccess:function(responseText){responseText&&eval(responseText);var responseObj=adResponseStore[requestId];delete adResponseStore[requestId];var singleDemand=parseResponse(requestObj,responseObj,placement,slotid);!singleDemand||singleDemand.hasOwnProperty("nbr")?callback("Invalid response."):callback(null,singleDemand)},onFailure:function(){callback("No demand response.")}}))}function getAOLSlots(e){for(var t={},r={},a=0,n=0,i=e.length;n<i;n++)if(config.slots.hasOwnProperty(e[n])===!0){t[e[n]]=[],r[e[n]]=[];for(var o=0,d=config.slots[e[n]].length;o<d;o++)!config.slots[e[n]][o].hasOwnProperty("placementId")||config.slots[e[n]][o].placementId<0||!isValidInteger(config.slots[e[n]][o].placementId)||config.slots[e[n]][o].hasOwnProperty("pageId")&&!isValidInteger(config.slots[e[n]][o].pageId)||config.slots[e[n]][o].hasOwnProperty("sizeId")&&!isValidInteger(config.slots[e[n]][o].sizeId)||r[e[n]].indexOf(config.slots[e[n]][o].placementId)===-1&&(t[e[n]].push(config.slots[e[n]][o]),a++,r[e[n]].push(config.slots[e[n]][o].placementId))}var s={};return s.requestCount=a,s.requestSlots=t,s}var _this=this,targetingType=config.targetingType,supportedAnalytics=SUPPORTED_ANALYTICS,supportedOptions=SUPPORTED_OPTIONS,prefetch={state:prefetchState.NEW,correlator:null,gcorrelator:null,slotIds:[],callbacks:[]},demandStore={},omKey="ix_aol_om",pmKey="ix_aol_pm";slotKey="ix_aol_id",config.targetKeyOverride&&(config.targetKeyOverride.omKey&&(omKey=config.targetKeyOverride.omKey),config.targetKeyOverride.pmKey&&(pmKey=config.targetKeyOverride.pmKey),config.targetKeyOverride.idKey&&(slotKey=config.targetKeyOverride.idKey));var apiVersion=config.apiVersion,networkId=config.networkId,roundingBuckets=config.roundingBuckets?config.roundingBuckets:{buckets:[{range:[0,Number.POSITIVE_INFINITY],granularity:.01}]},endpoint=endpointByRegion[config.region]?endpointByRegion[config.region]:"adserver-us.adtech.advertising.com",baseUrl=Utils.getProtocol()+endpoint+"/pubapi/"+apiVersion+"/"+networkId;this.getPartnerTargetingType=function(){return targetingType},this.getSupportedAnalytics=function(){return supportedAnalytics},this.getSupportedOptions=function(){return supportedOptions},this.getPartnerDemandExpiry=function(){return supportedOptions.demandExpiry},this.setPartnerTargetingType=function(e){return!!validateTargetingType(e)&&(targetingType=e,!0)};var getUniqueId=function(){var e=0;return function(){var t="_"+e+"_"+(9999*Math.random()|0);return e++,t}}();this.prefetchDemand=function(e,t,r){function a(t,a){if(n++,"object"==typeof a&&a.hasOwnProperty("divId")){ads.hasOwnProperty(a.slotid)||(ads[a.slotid]={});var i=a.width+"x"+a.height;ads[a.slotid].hasOwnProperty(i)||(ads[a.slotid][i]={html:a.adm},demandStore[e].slot[a.divId]=demandStore[e].slot[a.divId]||{},demandStore[e].slot[a.divId].timestamp=Utils.now(),demandStore[e].slot[a.divId].demand=demandStore[e].slot[a.divId].demand||{},a.demand.hasOwnProperty(pmKey)&&(demandStore[e].slot[a.divId].demand.hasOwnProperty(pmKey)?demandStore[e].slot[a.divId].demand[pmKey].push(a.demand[pmKey]):demandStore[e].slot[a.divId].demand[pmKey]=[a.demand[pmKey]]),a.demand.hasOwnProperty(omKey)&&(demandStore[e].slot[a.divId].demand.hasOwnProperty(omKey)?demandStore[e].slot[a.divId].demand[omKey].push(a.demand[omKey]):demandStore[e].slot[a.divId].demand[omKey]=[a.demand[omKey]]),demandStore[e].slot[a.divId].demand[slotKey]=a.slotid)}if(o===n){prefetch.state=prefetchState.READY,r(e);for(var d=0,s=prefetch.callbacks.length;d<s;d++)setTimeout(prefetch.callbacks[d],0)}}prefetch.state=prefetchState.IN_PROGRESS,prefetch.correlator=e,prefetch.slotIds=t.divIds,demandStore[e]={slot:{}};var n=0,i=getAOLSlots(prefetch.slotIds),o=i.requestCount,d=i.requestSlots;for(var s in d)demandStore[e].slot[s]={};if(0!==o){var l={};for(var c in d){var p=c;l[p]=[];for(var u=0,g=d[p].length;u<g;u++)l[p].indexOf(d[p][u].placementId)===-1&&(l[p].push(d[p][u].placementId),sendDemandRequest(d[p][u],p,a,slotid));slotid++}}else{prefetch.state=prefetchState.READY,r(e);for(var f=0,h=prefetch.callbacks.length;f<h;f++)setTimeout(prefetch.callbacks[f],0)}},this.getDemand=function e(t,r,a){if(prefetch.state===prefetchState.IN_PROGRESS){for(var n=Utils.getDivIds(r),i=!1,o=0,d=n.length;o<d;o++){var s=prefetch.slotIds.indexOf(n[o]);s!==-1&&(prefetch.slotIds.splice(s,1),i=!0)}if(i)return void prefetch.callbacks.push(e.bind(_this,t,r,a))}var l={slot:{}};if(prefetch.state===prefetchState.READY){if(demandStore.hasOwnProperty(prefetch.correlator)&&demandStore[prefetch.correlator].hasOwnProperty("slot")){for(var c=r.length-1;c>=0;c--){var p=r[c].getSlotElementId();demandStore[prefetch.correlator].slot.hasOwnProperty(p)&&((supportedOptions.demandExpiry<0||Utils.now()-demandStore[prefetch.correlator].slot[p].timestamp<=supportedOptions.demandExpiry)&&(l.slot[p]=demandStore[prefetch.correlator].slot[p],r.splice(c,1)),delete demandStore[prefetch.correlator].slot[p])}Utils.validateNonEmptyObject(demandStore[prefetch.correlator].slot)||(prefetch.state=prefetchState.USED)}if(!r.length)return void a(null,l)}var u=Utils.getDivIds(r);if(u.length){var g=0,f=getAOLSlots(u),h=f.requestCount,m=f.requestSlots;if(0===h)return void a(null,l);var y=function(e,t){if(g++,"object"==typeof t&&t.hasOwnProperty("divId")){ads.hasOwnProperty(t.slotid)||(ads[t.slotid]={});var r=t.width+"x"+t.height;ads[t.slotid].hasOwnProperty(r)||(ads[t.slotid][r]={html:t.adm},l.slot[t.divId]=l.slot[t.divId]||{},l.slot[t.divId].timestamp=Utils.now(),l.slot[t.divId].demand=l.slot[t.divId].demand||{},t.demand.hasOwnProperty(pmKey)&&(l.slot[t.divId].demand.hasOwnProperty(pmKey)?l.slot[t.divId].demand[pmKey].push(t.demand[pmKey]):l.slot[t.divId].demand[pmKey]=[t.demand[pmKey]]),t.demand.hasOwnProperty(omKey)&&(l.slot[t.divId].demand.hasOwnProperty(omKey)?l.slot[t.divId].demand[omKey].push(t.demand[omKey]):l.slot[t.divId].demand[omKey]=[t.demand[omKey]]),l.slot[t.divId].demand[slotKey]=t.slotid)}h===g&&a(null,l)},v={};for(var b in m){var w=b;v[w]=[];for(var I=0,S=m[w].length;I<S;I++)v[w].indexOf(m[w][I].placementId)===-1&&(v[w].push(m[w][I].placementId),setTimeout(sendDemandRequest.bind(_this,m[w][I],w,y,slotid)));slotid++}}else a(null,l)}}function init(e,t){var r=[];if(e.hasOwnProperty("targetingType")&&validateTargetingType(e.targetingType)||r.push("targetingType either not provided or invalid."),e.hasOwnProperty("region")&&endpointByRegion.hasOwnProperty(e.region)||r.push("region either not provided or invalid."),e.hasOwnProperty("apiVersion")&&Utils.validateNonEmptyString(e.apiVersion)||r.push("apiVersion either not provided or not a string."),e.hasOwnProperty("networkId")&&Utils.validateNonEmptyString(e.networkId)||r.push("networkId either not provided or not a string."),e.hasOwnProperty("slots"))for(var a in e.slots)for(var n=0,i=e.slots[a].length;n<i;n++){var o=e.slots[a][n];if(!Utils.validateNonEmptyObject(o)){r.push("placement not an array of objects");break}o.hasOwnProperty("placementId")||r.push("placement.id is missing and is required")}else r.push("slots configuration is not provided");if(e.hasOwnProperty("targetKeyOverride")&&(Utils.validateNonEmptyObject(e.targetKeyOverride)?(e.targetKeyOverride.omKey&&!Utils.validateNonEmptyString(e.targetKeyOverride.omKey)&&r.push("targetKeyOverride.omKey must be a non-empty string"),e.targetKeyOverride.pmKey&&!Utils.validateNonEmptyString(e.targetKeyOverride.pmKey)&&r.push("targetKeyOverride.pmKey must be a non-empty string"),e.targetKeyOverride.idKey&&!Utils.validateNonEmptyString(e.targetKeyOverride.idKey)&&r.push("targetKeyOverride.idKey must be a non-empty string")):r.push("targetKeyOverride must be a non-empty object")),r.length)return void t(r);var d=new Partner(e);window.headertag.AolModule=window.headertag.AolModule||{},window.headertag.AolModule.render=function(e,t,r,a){if(e&&t&&r&&a)try{var n=t[slotKey][0],i=ads[n][r+"x"+a];if(i){var o=i.html;o&&(e.write(o),e.close())}}catch(e){}},t(null,d)}var PARTNER_ID="AOL",SUPPORTED_TARGETING_TYPES={page:!1,slot:!0},SUPPORTED_ANALYTICS={time:!0,demand:!0},SUPPORTED_OPTIONS={prefetch:!0,demandExpiry:-1},prefetchState={NEW:1,IN_PROGRESS:2,READY:3,USED:4},endpointByRegion={eu:"//adserver-eu.adtech.advertising.com",na:"//adserver-us.adtech.advertising.com",asia:"//adserver-as.adtech.advertising.com"},Utils=window.headertag.Utils,Network=window.headertag.Network,slotid=1,slotKey,ads={},adResponseStore={};window.headertag.registerPartner(PARTNER_ID,init)}),window.headertag.partnerScopes.push(function(){"use strict";function e(e){return"string"==typeof e&&i[e]}function t(e){return"string"==typeof e&&e.match(/^\d+$/)}function r(r,n){var i=[];if(r.hasOwnProperty("targetingType")&&e(r.targetingType)||i.push("criteobidder.init: targetingType either not provided or invalid."),r.hasOwnProperty("targetKeyOverride")&&!h.validateNonEmptyObject(r.targetKeyOverride)&&i.push("criteobidder.init: targetKeyOverride provided is invalid."),r.hasOwnProperty("slots")&&h.validateNonEmptyObject(r.slots))for(var o in r.slots){var d=r.slots[o];if(h.validateNonEmptyArray(d))for(var s=0;s<d.length;s++){var l=d[s];if(l.hasOwnProperty("zoneID")){var p=l.zoneID;t(p)||h.isInteger(p)||i.push("criteobidder.init: slotID "+o+" in config.slots has non-integer zoneID")}else i.push("criteobidder.init: slotID "+o+" in config.slots does not have zoneID key")}else i.push("criteobidder.init: slotID "+o+" in config.slots is not an array")}else i.push("criteobidder.init: slots either not provided or invalid.");if(r.hasOwnProperty("isAudit")&&!h.validateBoolean(r.isAudit)&&i.push("isAudit provided is invalid."),r.hasOwnProperty("roundingBuckets")&&!h.validateNonEmptyObject(r.roundingBuckets)&&i.push("roundingBuckets provided is invalid."),i.length)return void n(i);window.headertag.CriteoModule=window.headertag.CriteoModule||{},window.headertag.CriteoModule.render=function(e,t,r,a){if(e&&t&&r&&a)try{var n=t[g.id][0],i=c[n][r+"x"+a];if(i){var o=i.html;o&&(e.write(o),e.close())}}catch(e){}};var u="//static.criteo.net/js/ld/publishertag.js";h.addScriptTag(u,!0,function(){}),n(null,new a(r))}function a(r){function a(e){for(var t=1e6,r=Math.round(Number(e)*t)/t,a=1,n=0,i=Number.POSITIVE_INFINITY,o=0,d=_.buckets.length;o<d;o++){var s=_.buckets[o];if(s.range[0]<i&&(i=s.range[0]),s.range[1]>n&&(n=s.range[1]),r>=s.range[0]&&r<=s.range[1])return a=s.granularity,r=Math.round(r/a*t)/t,r=Math.round(Math.floor(r)*t)/t,r=Math.round(r*a*t)/t,r=Math.round(100*r*t)/t,r=Math.round(r)}return r<i?r=0:r>n&&(r=n),Math.floor(Math.round(100*r*t)/t)}function n(e,t){var r=t||{slot:{}};if(h.isEmpty(e))return r;var n;try{n=JSON.parse(e)}catch(e){return r}if(!n||!n.slots)return r;for(var i={},o=0;o<n.slots.length;o++){var d=n.slots[o];if(d.hasOwnProperty("cpm")&&d.hasOwnProperty("width")&&d.hasOwnProperty("height")&&d.hasOwnProperty("creative")&&d.hasOwnProperty("impid")){var s=l.indexOf(d.impid);if(s!==-1){l.splice(s,1);var p=a(d.cpm);if(0!==p){var u=d.impid,g=I.om,f=I.id,m=u,y=d.width+"x"+d.height;if(i.hasOwnProperty(m)){if(i[m].hasOwnProperty(y))continue;i[m][y]=1}else i[m]={},i[m][y]=1;var v,b=r.slot[m]||{timestamp:h.now(),demand:{}};b.demand.hasOwnProperty(g)?(b.demand[g].push(y+"_"+p.toString()),v=b.demand[f]):(v=++S,b.demand[g]=[y+"_"+p.toString()],b.demand[f]=v),r.slot[m]=b,c[v]=c[v]||{},c[v][y]={html:d.creative}}}}}return r}function i(e){for(var r=[],a=0;a<e.length;a++){var n=e[a];if(T.hasOwnProperty(n))for(var i=0;i<T[n].length;i++){var o=T[n][i].zoneID;if(t(o)||h.isInteger(o)){var d=n;l.push(d),r.push(new window.Criteo.PubTag.DirectBidding.DirectBiddingSlot(d,Number(o)))}}}return r}var s=this,m=r.targetingType,y=o,v=d,b={state:p.NEW,correlator:null,gCorrelator:null,slotIds:[],callbacks:[]},w={},I=g,S=0;r.hasOwnProperty("targetKeyOverride")&&(r.targetKeyOverride.hasOwnProperty("om")&&h.validateNonEmptyString(r.targetKeyOverride.om)&&r.targetKeyOverride.om.length<=20&&(I.om=r.targetKeyOverride.om),r.targetKeyOverride.hasOwnProperty("id")&&h.validateNonEmptyString(r.targetKeyOverride.id)&&r.targetKeyOverride.id.length<=20&&(I.id=r.targetKeyOverride.id));var T=r.slots,O=r.isAudit||!1,_=r.roundingBuckets||f;this.getPartnerTargetingType=function(){return m},this.getSupportedAnalytics=function(){return y},this.getSupportedOptions=function(){return v},this.getPartnerDemandExpiry=function(){return v.demandExpiry},this.setPartnerTargetingType=function(t){return!!e(t)&&(m=t,!0)},this.prefetchDemand=function(e,t,r){function a(t){w[e]=n(t,w[e]),b.state=p.READY,r(e);for(var a=0,i=b.callbacks.length;a<i;a++)setTimeout(b.callbacks[a],0)}function o(){b.state=p.READY,r(e);for(var t=0,a=b.callbacks.length;t<a;t++)setTimeout(b.callbacks[t],0);return"API error - timeout occurred"}function d(t,a){b.state=p.READY,r(e);for(var n=0,i=b.callbacks.length;n<i;n++)setTimeout(b.callbacks[n],0);return" Request error - Status Code: "+a}b.state=p.IN_PROGRESS,b.correlator=e,b.slotIds=t.divIds.slice(),w[e]={},w[e].slot={};for(var s=0;s<b.slotIds.length;s++)w[e].slot[b.slotIds[s]]={timestamp:h.now(),demand:{}};window.Criteo.events.push(function(){var n=i(t.divIds.slice());if(n.length){var s=new window.Criteo.PubTag.DirectBidding.DirectBiddingEvent(u,new window.Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(O),n,a,d,o);window.criteo_pubtag.push(s)}else{b.state=p.READY,r(e);for(var l=0,c=b.callbacks.length;l<c;l++)setTimeout(b.callbacks[l],0)}})},this.getDemand=function e(t,r,a){function o(e){I=n(e,I),a(null,I)}function d(){a("API error - timeout occurred",I)}function l(e,t){a(" Request error - Status Code: "+t,I)}if(b.state===p.IN_PROGRESS){for(var c=h.getDivIds(r),g=!1,f=0,m=c.length;f<m;f++){var y=b.slotIds.indexOf(c[f]);y!==-1&&(b.slotIds.splice(y,1),g=!0)}if(g)return void b.callbacks.push(e.bind(s,t,r,a))}var I={slot:{}};if(b.state===p.READY){if(w.hasOwnProperty(b.correlator)&&w[b.correlator].hasOwnProperty("slot")){for(var S=r.length-1;S>=0;S--){var T=r[S].getSlotElementId();w[b.correlator].slot.hasOwnProperty(T)&&((v.demandExpiry<0||h.now()-w[b.correlator].slot[T].timestamp<=v.demandExpiry)&&(I.slot[T]=w[b.correlator].slot[T],r.splice(S,1)),delete w[b.correlator].slot[T])}h.validateNonEmptyObject(w[b.correlator].slot)||(b.state=p.USED)}if(!r.length)return void a(null,I)}window.Criteo.events.push(function(){var e=i(h.getDivIds(r));if(!e.length)return void a(null,I);var t=new window.Criteo.PubTag.DirectBidding.DirectBiddingEvent(u,new window.Criteo.PubTag.DirectBidding.DirectBiddingUrlBuilder(O),e,o,l,d);window.criteo_pubtag.push(t)})}}var n="CRTB",i={slot:!0},o={time:!0,demand:!0},d={prefetch:!0,demandExpiry:3e4},s={FLOOR:1,ROUND:2,CEIL:3},l=[],c={},p={NEW:1,IN_PROGRESS:2,READY:3,USED:4},u=154,g={om:"ix_cdb_om",id:"ix_cdb_id"},f={type:s.FLOOR,buckets:[{range:[0,Number.POSITIVE_INFINITY],granularity:.01}]};window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];var h=window.headertag.Utils;window.headertag.registerPartner(n,r)}),window.headertag.partnerScopes.push(function(){"use strict";function e(e){return"string"==typeof e&&i[e]}function t(e){var t=JSON.parse(JSON.stringify(e.xSlots)),r=e.mapping;for(var a in r)if(r.hasOwnProperty(a))for(var n=r[a],i=0;i<n.length;i++)t[n[i]].divId=a;return t}function r(e,t){var r=new a(e);window.headertag.renderFacebookAd=r.fbRenderAd,t(null,r)}function a(r){function a(e){var t=[];for(var r in P)if(P.hasOwnProperty(r)){var a=P[r];e===a.divId&&t.push(a.placementId)}return t}function n(e){for(var t in P)if(P.hasOwnProperty(t)){var r=P[t];if(e===r.divId)return r.adFormat}return null}function i(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r][0]+"x"+e[r][1]);return t[0]}function g(e){for(var t in P)if(P.hasOwnProperty(t)){var r=P[t];if(e===r.placementId)return i(r.sizes)}return""}function f(e){for(var t=[],r=0,a=e.length;r<a;r++){var n="object"==typeof e[r]?e[r].getSlotElementId():e[r];for(var i in P)P.hasOwnProperty(i)&&n===P[i].divId&&t.push(P[i])}return t}function h(e){var t=f(e);if(!t.length)return"";for(var r="https://an.facebook.com/v2/placementbid.json",a="?sdk=5.5.web&",n=0;n<t.length;n++){var o,d=t[n],s=encodeURIComponent(d.placementId);o=d.adFormat?d.adFormat:encodeURIComponent(i(d.sizes)),a+="placementids[]="+s+"&adformats[]="+o+"&"}a=a.slice(0,-1);var l=encodeURIComponent(p.getPageUrl());a+="&pageurl="+l;var c=E?"&testmode=true":"",u=r+a+c;return u}function m(e){for(var t=Number(e)/100,r=1,a=0,n=_.buckets.length;a<n;a++){var i=_.buckets[a];if(t>=i.range[0]&&t<i.range[1]){r=i.granularity;break}a===n-1&&(t=i.range[1],r=i.granularity)}return t=100*t/(100*r),_.type===l.FLOOR?t=Math.floor(t):_.type===l.ROUND?t=Math.round(t):_.type===l.CEIL&&(t=Math.ceil(t)),(t*r).toFixed(2)}function y(e,t){var r=h(e),a=u.isXhrSupported();return a&&r?void u.ajax({url:r,method:"GET",partnerId:"FB",withCredentials:!0,onSuccess:function(e){t(null,JSON.parse(e))},onFailure:function(){t("FB: No demand response")}}):void t(null,{})}var v=this,b=r.targetingType,w=o,I=d,S={state:s.NEW,correlator:null,gCorrelator:null,slotIds:[],callbacks:[]},T={},O={},_=r.roundingBuckets?r.roundingBuckets:{type:l.FLOOR,buckets:[{range:[0,20],granularity:.05}]},P=t(r),D=1,E=r.debug,x=r.nativeAssets||"";r.hasOwnProperty("targetKeyOverride")&&(r.targetKeyOverride.hasOwnProperty("om")&&p.validateNonEmptyString(r.targetKeyOverride.om)&&r.targetKeyOverride.om.length<=20&&(c.om=r.targetKeyOverride.om),r.targetKeyOverride.hasOwnProperty("id")&&p.validateNonEmptyString(r.targetKeyOverride.id)&&r.targetKeyOverride.id.length<=20&&(c.id=r.targetKeyOverride.id)),this.getPartnerTargetingType=function(){return b},this.getSupportedAnalytics=function(){return w},this.getSupportedOptions=function(){return I},this.getPartnerDemandExpiry=function(){return I.demandExpiry},this.setPartnerTargetingType=function(t){return!!e(t)&&(b=t,!0)},this.fbRenderAd=function(e,t,r,a){if(e&&t&&r&&a)try{var n,i=t[c.id],o=r+"x"+a,d="",s="";if(n=O[i][o]){var l=n.placementId,p=n.bidId,u=o;"native"===n.adFormat?(d=x,u="native"):"fullwidth"===n.adFormat&&(s='<script>window.onload=function(){if(parent){var o=document.getElementsByTagName("head")[0];var s=parent.document.getElementsByTagName("style");for(var i=0;i<s.length;i++)o.appendChild(s[i].cloneNode(true));}}</script>',d='<div class="thirdPartyRoot"><a class="fbAdLink"><div class="fbAdMedia thirdPartyMediaClass"></div><div class="fbAdSubtitle thirdPartySubtitleClass"></div><div class="fbDefaultNativeAdWrapper"><div class="fbAdCallToAction thirdPartyCallToActionClass"></div><div class="fbAdTitle thirdPartyTitleClass"></div></div></a></div>',u="fullwidth"),e.write("<html><head>"+s+'</head><body><div style="display:none;position:relative;"><script>var data = {placementid:"'+l+'",format:"'+u+'",bidid:"'+p+'",onAdLoaded:function(e){e.style.display = "block";},onAdError:function(c,m){console.log("Audience Network ['+l+'] error (" + c + ") " + m);}};(function(a,b,c){var d="https://www.facebook.com",e="https://connect.facebook.net/en_US/fbadnw55.js",f={iframeLoaded:true,xhrLoaded:true},g=5,h=a.data,i=0,j=function(ea){if(ea==null)throw new Error();return ea;},k=function(ea){if(ea instanceof HTMLElement)return ea;throw new Error();},l=function(){if(Date.now){return Date.now();}else return +new Date();},m=function(ea){if(++i>g)return;var fa=d+"/audience_network/client_event",ga={cb:l(),event_name:"ADNW_ADERROR",ad_pivot_type:"audience_network_mobile_web",sdk_version:"5.5.web",app_id:h.placementid.split("_")[0],publisher_id:h.placementid.split("_")[1],error_message:ea},ha=[];for(var ia in ga)ha.push(encodeURIComponent(ia)+"="+encodeURIComponent(ga[ia]));var ja=fa+"?"+ha.join("&"),ka=new XMLHttpRequest();ka.open("GET",ja,true);ka.send();},n=function(){if(b.currentScript){return b.currentScript;}else{var ea=b.getElementsByTagName("script");return ea[ea.length-1];}},o=function(ea){try{return ea.document.referrer;}catch(fa){}return "";},p=function(){var ea=a;try{while(ea!=ea.parent){ea.parent.origin;ea=ea.parent;}}catch(fa){}return ea;},q=function(ea){var fa=ea.indexOf("/",ea.indexOf("://")+3);if(fa===-1)return ea;return ea.substring(0,fa);},r=function(ea){return ea.location.href||o(ea);},s=function(ea,fa){if(ea.sdkLoaded)return;var ga=fa.createElement("iframe");ga.name="fbadnw";ga.style.display="none";j(fa.body).appendChild(ga);ga.contentWindow.addEventListener("error",function(event){m(event.message);},false);var ha=ga.contentDocument.createElement("script");ha.src=e;ha.async=true;j(ga.contentDocument.body).appendChild(ha);ea.sdkLoaded=true;},t=function(ea){var fa=/^https?:\\/\\/www\\.google(\\.com?)?.\\w{2,3}$/;return !!ea.match(fa);},u=function(ea){return ea.endsWith("cdn.ampproject.org");},v=function(){var ea=c.ancestorOrigins||[],fa=ea[ea.length-1]||c.origin,ga=ea[ea.length-2]||c.origin;if(t(fa)&&u(ga)){return q(ga);}else return q(fa);},w=function(ea){try{return JSON.parse(ea);}catch(fa){m(fa.message);return null;}},x=function(ea,fa,ga){if(!ea.iframe){var ha=ga.createElement("iframe");ha.src=d+"/audiencenetwork/iframe/";ha.style.display="none";j(ga.body).appendChild(ha);ea.iframe=ha;ea.iframeAppendedTime=l();ea.iframeData={};}fa.iframe=j(ea.iframe);fa.iframeData=ea.iframeData;fa.tagJsIframeAppendedTime=ea.iframeAppendedTime||0;},y=function(ea){var fa=d+"/audiencenetwork/xhr/?sdk=5.5.web";for(var ga in ea)if(typeof ea[ga]!=="function")fa+="&"+ga+"="+encodeURIComponent(ea[ga]);var ha=new XMLHttpRequest();ha.open("GET",fa,true);ha.withCredentials=true;ha.onreadystatechange=function(){if(ha.readyState===4){var ia=w(ha.response);if(ia)ea.events.push({name:"xhrLoaded",source:ea.iframe.contentWindow,data:ia,postMessageTimestamp:l(),receivedTimestamp:l()});}};ha.send();},z=function(ea,fa){var ga=d+"/audiencenetwork/xhriframe/?sdk=5.5.web";for(var ha in fa)if(typeof fa[ha]!=="function")ga+="&"+ha+"="+encodeURIComponent(fa[ha]);var ia=b.createElement("iframe");ia.src=ga;ia.style.display="none";j(b.body).appendChild(ia);fa.iframe=ia;fa.iframeData={};fa.tagJsIframeAppendedTime=l();},aa=function(ea){var fa=function(event){try{var ia=event.data;if(ia.name in f)ea.events.push({name:ia.name,source:event.source,data:ia.data});}catch(ha){}},ga=j(ea.iframe).contentWindow.parent;ga.addEventListener("message",fa,false);},ba=function(ea){if(ea.context)return true;try{return !!JSON.parse(decodeURI(ea.name)).ampcontextVersion;}catch(fa){return false;}},ca=function(ea){var fa=l(),ga=p(),ha=k(n().parentElement),ia=ga!=a.top,ja=ga.$sf&&ga.$sf.ext,ka=r(ga);ga.ADNW=ga.ADNW||{};ga.ADNW.v55=ga.ADNW.v55||{ads:[]};var la=ga.ADNW.v55;s(la,ga.document);var ma={amp:ba(ga),events:[],tagJsInitTime:fa,rootElement:ha,iframe:null,tagJsIframeAppendedTime:la.iframeAppendedTime||0,url:ka,domain:v(),channel:q(r(ga)),width:screen.width,height:screen.height,pixelratio:a.devicePixelRatio,placementindex:la.ads.length,crossdomain:ia,safeframe:!!ja,placementid:h.placementid,format:h.format||"300x250",testmode:!!h.testmode,onAdLoaded:h.onAdLoaded,onAdError:h.onAdError};if(h.bidid)ma.bidid=h.bidid;if(ia){z(la,ma);}else{x(la,ma,ga.document);y(ma);}aa(ma);ma.rootElement.dataset.placementid=ma.placementid;la.ads.push(ma);};try{ca();}catch(da){m(da.message||da);throw da;}})(window,document,location);</script>'+d+"</div></body></html>"),e.close()}}catch(e){}},this.prefetchDemand=function(e,t,r){S.state=s.IN_PROGRESS,S.correlator=e,S.slotIds=t.divIds.slice(),T[e]={slot:{}},y(t.divIds,function(i,o){var d=t.divIds;if(!i&&o.hasOwnProperty("bids")){var l=o.bids;for(var u in l)if(l.hasOwnProperty(u)&&l.hasOwnProperty(u))for(var f=l[u].length-1;f>=0;f--)l[u][f]||l[u].splice(f,1);for(var h=0;h<d.length;h++){var y=d[h],v=[],b={},w=!0;T[e].slot[y]={},T[e].slot[y].timestamp=p.now(),T[e].slot[y].demand={};for(var I,_=a(y),P=n(y),E=0;E<_.length;E++){var x=_[E];if(l.hasOwnProperty(x)&&l[x].length){var R=g(x),N=l[x][0],K=m(N.bid_price_cents);I=y+"_"+D,0!==Number(K)&&(v.push(R+"_"+K),O[I]=void 0===O[I]?{}:O[I],O[I][R]={bidId:N.bid_id,placementId:x,adFormat:P},w=!1)}}w||(b[c.om]=v,b[c.id]=I,D++),T[e].slot[y].demand=b}S.state=s.READY}else{S.state=s.READY;for(var E=0;E<d.length;E++)T[e].slot[d[E]]={},T[e].slot[d[E]].timestamp=p.now(),T[e].slot[d[E]].demand={}}r(e);for(var A=0,k=S.callbacks.length;A<k;A++)setTimeout(S.callbacks[A],0)})},this.getDemand=function e(t,r,i){if(S.state===s.IN_PROGRESS){for(var o=p.getDivIds(r),d=!1,l=0,u=o.length;l<u;l++){var f=S.slotIds.indexOf(o[l]);f!==-1&&(S.slotIds.splice(f,1),d=!0)}if(d)return void S.callbacks.push(e.bind(v,t,r,i))}var h={slot:{}};if(S.state===s.READY){for(var b=r.length-1;b>=0;b--){var w=r[b].getSlotElementId();T[S.correlator].slot.hasOwnProperty(w)&&((I.demandExpiry<0||p.now()-T[S.correlator].slot[w].timestamp<=I.demandExpiry)&&(h.slot[w]=T[S.correlator].slot[w],r.splice(b,1)),delete T[S.correlator].slot[w])}if(p.validateNonEmptyObject(T[S.correlator].slot)||(S.state=s.USED),!r.length)return void i(null,h)}y(r,function(e,t){if(e)return void i(e);if(t.hasOwnProperty("bids")){var o=t.bids;for(var d in o)if(o.hasOwnProperty(d)&&o.hasOwnProperty(d))for(var s=o[d].length-1;s>=0;s--)o[d][s]||o[d].splice(s,1);for(var l=0;l<r.length;l++){for(var u,f=r[l].getSlotElementId(),y=[],v={},b=!0,w=a(f),I=n(f),S=0;S<w.length;S++){var T=w[S];if(o.hasOwnProperty(T)&&o[T].length){var _=g(T),P=o[T][0],E=m(P.bid_price_cents);u=f+"_"+D,0!==Number(E)&&(y.push(_+"_"+E),O[u]=void 0===O[u]?{}:O[u],O[u][_]={bidId:P.bid_id,placementId:T,adFormat:I},b=!1)}}b||(v[c.om]=y,v[c.id]=u,D++),h.slot[f]={timestamp:p.now(),demand:v}}}i(null,h)})}}var n="FB",i={page:!1,slot:!0},o={time:!0,demand:!1},d={prefetch:!0,demandExpiry:-1},s={NEW:1,IN_PROGRESS:2,READY:3,USED:4},l={FLOOR:1,ROUND:2,CEIL:3},c={om:"ix_fb_om",id:"ix_fb_id"},p=window.headertag.Utils,u=window.headertag.Network;window.headertag.registerPartner(n,r)}),window.headertag.partnerScopes.push(function(){"use strict";function validateTargetingType(e){return"string"==typeof e&&SUPPORTED_TARGETING_TYPES[e]}function getKeys(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);return t}function arrayCompare(e,t){var r,a,n={matched:0,success:!1};if(!e||!t)return n;for(r=e.length,a=0;a<r;a++){if(t.indexOf(e[a])===-1)return n;n.matched++}return n.success=!0,n}function retrieveIndexSlot(e,t,r){var a,n,i,o,d,s,l,c={};for(d in t)if(!r[d]){o=t[d],a=0,i=0,n=0;for(s in o)a++,l=arrayCompare(o[s],e[s]),l.success&&(n++,i+=l.matched);a===n&&(c.indexId||(c={matched:i,indexId:d}),i>c.matched&&(c.matched=i,c.indexId=d))}return c.indexId}function mapSlots(e){var t,r,a,n=headerTagArgs.gptDivs,i=e.length,o={};if(n)for(a=0;a<i;a++){r=e[a].getSlotElementId();for(t in n)n[t].indexOf(r)!==-1&&(o[t]||(o[t]=[]),o[t].push(r))}return o}function convertSlotDemandObject(e,t){if("slot"===targetingType)return e;var r,a,n={page:{slotIds:[],gCorrelator:t,demand:{}}};for(r in e.slot){n.page.slotIds.push(r),n.page.timestamp?n.page.timestamp=Math.min(n.page.timestamp,e.slot[r].timestamp):n.page.timestamp=e.slot[r].timestamp;for(a in e.slot[r].demand)n.page.demand[a]=n.page.demand[a]||[],n.page.demand[a]=n.page.demand[a].concat(e.slot[r].demand[a])}return n}function getAdSize(e){if(headerTagArgs&&headerTagArgs.slots)for(var t=0;t<headerTagArgs.slots.length;t++){var r=headerTagArgs.slots[t];if(r.id&&r.id===e&&r.width&&r.height)return r.width+"x"+r.height}return""}function parseResults(e,t,r){var a,n,i,o,d,s,l=[],c={slot:{}};if(t){prefetch.demand=JSON.parse(JSON.stringify(indexDemandList)),prefetch.state=prefetchState.READY,prefetch.analyticsCallback(prefetch.correlator);for(var p=0,u=prefetch.callbacks.length;p<u;p++)setTimeout(prefetch.callbacks[p],0);return void(prefetch.timestamp=Utils.now())}if(r?(a=prefetch.correlator,o=prefetch.demand,s=mapSlots(r)):(a=correlatorTracker[e],o=indexDemandList,s=ixSlots[a]),(r||dSlots[a]).map(function(e){for(i=e.getSlotElementId(),adId++,n=0;n<o.length;n++)if(d=o[n].split("_"),"undefined"!=typeof s[d[1]]&&s[d[1]].indexOf(i)!==-1)if(r&&l.push(prefetch.demand[n]),c.slot[i]||(c.slot[i]={timestamp:prefetch.timestamp||Utils.now(),demand:{}}),c.slot[i].demand[d[0]]||(c.slot[i].demand[d[0]]=[]),targetingMode===TARGETING_MODE.STANDARD||targetingMode===TARGETING_MODE.ADVANCED){var t=d[0],a=d[1],p=d[2],u="",g=i+"_"+adId,f=getAdSize(a),h=d.slice(1).join("_");c.slot[i].demand[t].push(f+"_"+p),t===headerTagPrivateKey&&(u=d.slice(3).join("_"),""===u||c.slot[i].demand[headerTagPrivateIdKey]||(c.slot[i].demand[headerTagPrivateIdKey]=[],c.slot[i].demand[headerTagPrivateIdKey].push(f+"_"+u))),c.slot[i].demand[headerTagIdKey]||(c.slot[i].demand[headerTagIdKey]=[g]),targetIDMap[g]||(targetIDMap[g]={}),targetIDMap[g][f]=h}else c.slot[i].demand[d[0]].push(d[1]+"_"+d[2])}),r){var g;for(var f in s)if(s.hasOwnProperty(f)&&prefetch.slotIds.indexOf(f)!==-1){for(n=0;n<s[f].length;n++)c.slot[s[f][n]]||(c.slot[s[f][n]]={timestamp:prefetch.timestamp,demand:{}});g=prefetch.slotIds.indexOf(f),g!==-1&&prefetch.slotIds.splice(g,1)}for(demandStore=c,n=prefetch.demand.length-1;n>=0;n--)l.indexOf(prefetch.demand[n])!==-1&&prefetch.demand.splice(n,1)}else"function"==typeof cb[a]&&(cb[a](null,c),delete cb[a]),delete correlatorTracker[e],delete ixSlots[a],delete dSlots[a]}function escapeCharacter(e){var t=META[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}function quote(e){return ESCAPABLE.lastIndex=0,ESCAPABLE.test(e)?e.replace(ESCAPABLE,escapeCharacter):e}function OpenRTBRequest(e,t){if("number"!=typeof e||e%1!==0||e<0)throw"Invalid Site ID";this.siteID=e,this.impressions=[],top===self?(this.sitePage=location.href,this.topframe=1):(this.sitePage=document.referrer,this.topframe=0),"undefined"==typeof indexRequestData.requestCounter?indexRequestData.requestCounter=Math.floor(256*Math.random()):indexRequestData.requestCounter=(indexRequestData.requestCounter+1)%256,this.requestID=String((new Date).getTime()%2592e3*256+indexRequestData.requestCounter+256),correlatorTracker[this.requestID]=t}function cygnus_index_judge(e){indexDemandList=[];var t,r={},a="^(?:"+headerTagPublicKey+"|"+headerTagPrivateKey+")_(?:T([0-9])_)?(.*)_.*$",n=new RegExp(a),i=[];for(t=0;t<e.length;t++)if(e[t].split("_")[0]!==headerTagPrivateKey){var o=n.exec(e[t]);if("undefined"!=typeof o&&null!==o){var d,s;if(d=o[1],s=o[2],"undefined"!=typeof d&&null!==d||(d=0),r[s]=r[s]||{},"undefined"==typeof r[s].tier||r[s].tier<d){r[s].tier=d;var l=e[t];if(d>0){var c=e[t].split("_"),p=c.shift(),u=c.join("_");c.shift();var g=c.join("_");l=p+"_"+g,indexRequestData.targetIDToBid[g]=indexRequestData.targetIDToBid[u]}r[s].target=l}}}else i.push(e[t]);var f,h=[];for(f in r)r.hasOwnProperty(f)&&h.push(r[f].target);return h.concat(i)}function Partner(e){function t(e,t){if(Utils.isEmpty(e))return t;if(Utils.isEmpty(t))return e;var r,a;for(r in t.slot)if("undefined"==typeof e.slot[r])e.slot[r]=t.slot[r];else{e.slot[r].timestamp=Math.min(e.slot[r].timestamp,t.slot[r].timestamp);for(a in t.slot[r].demand){switch(typeof e.slot[r].demand[a]){case"undefined":e.slot[r].demand[a]=[];break;case"string":e.slot[r].demand[a]=[e.slot[r].demand[a]]}e.slot[r].demand[a]=e.slot[r].demand[a].concat(t.slot[r].demand[a])}}return e}function r(e,t){var r,a,n,i;try{if("undefined"==typeof headerTagArgs||"undefined"==typeof headerTagArgs.siteID||"undefined"==typeof headerTagArgs.slots)return;for("undefined"==typeof indexRequestData&&(indexRequestData={},indexRequestData.impIDToSlotID={},indexRequestData.reqOptions={}),n=new OpenRTBRequest(headerTagArgs.siteID,e),headerTagArgs.url&&"string"==typeof headerTagArgs.url&&n.setPageOverride(headerTagArgs.url),indexRequestData.impIDToSlotID[n.requestID]={},indexRequestData.reqOptions[n.requestID]={},r=0;r<headerTagArgs.slots.length;r++)i=headerTagArgs.slots[r],t.indexOf(i.id.toString())!==-1&&(a=n.addImpression(i.width,i.height,i.bidfloor,i.bidfloorcur,i.id,i.siteID),a&&(indexRequestData.impIDToSlotID[n.requestID][a]=String(i.id)));return"number"==typeof headerTagArgs.targetMode&&(indexRequestData.reqOptions[n.requestID].targetMode=headerTagArgs.targetMode),"function"==typeof headerTagArgs.callback&&(indexRequestData.reqOptions[n.requestID].callback=headerTagArgs.callback),
n.sendRequestAsync(e,e===prefetch.correlator)}catch(e){}}function a(e){var t=[],r=e.divIds;for(var a in headerTagArgs.gptDivs)headerTagArgs.gptDivs.hasOwnProperty(a)&&(1!==headerTagArgs.gptDivs[a].length,r.indexOf(headerTagArgs.gptDivs[a][0])!==-1&&t.push(a));return t}var n=this,i=e.usermatch||!1;if(i){var o=document.createElement("iframe");o.src=("https:"==document.location.protocol?"https://ssum-sec":"http://ssum")+".casalemedia.com/usermatch?s=184674&cb=https%3A%2F%2Fjs-sec.indexww.com%2Fht%2Fhtw-pixel.gif%3F",o.style.display="none";var d=function(){document.body.appendChild(o)};window.addEventListener?window.addEventListener("load",d):window.attachEvent("onload",d)}targetingType=e.targetingType||"slot",targetingMode=e.targetingMode||TARGETING_MODE.LEGACY,headerTagArgs={gptDivs:cygnus_index_args.gpt_divs,siteID:cygnus_index_args.siteID,slots:cygnus_index_args.slots,url:cygnus_index_args.url,targetMode:cygnus_index_args.targetMode,callback:cygnus_index_args.callback},targetIDMap={},adId=0,cygnus_index_args=void 0;var s=e.targetingType,l=SUPPORTED_ANALYTICS,c=SUPPORTED_OPTIONS,p=SUPPORTED_OPTIONS.demandExpiry?SUPPORTED_OPTIONS.demandExpiry:-1;this.publicKey=e.publicKey||"IOM",this.privateKey=e.privateKey||"IPM",this.privateIdKey=e.privateIdKey||"IPMID",this.idKey=e.idKey||"ix_id",headerTagPrivateKey=this.privateKey,headerTagPublicKey=this.publicKey,headerTagPrivateIdKey=this.privateIdKey,headerTagIdKey=this.idKey,this.getPartnerTargetingType=function(){return s},this.getSupportedAnalytics=function(){return l},this.getSupportedOptions=function(){return c},this.getPartnerDemandExpiry=function(){return p},this.setPartnerTargetingType=function(e){return!!validateTargetingType(e)&&(s=e,targetingType=s,!0)},this.prefetchDemand=function(t,n,i){prefetch.state=prefetchState.IN_PROGRESS,prefetch.correlator=t,e.prefetch?("page"===targetingType&&(prefetch.gCorrelator=n),this.prefetchIndexSlotIds=e.prefetch.info[window.headertag.pagetype].requiredIndexSlots):"page"===targetingType?(prefetch.gCorrelator=n.gCorrelator,this.prefetchIndexSlotIds=a(n.htSlots)):this.prefetchIndexSlotIds=a(n),prefetch.slotIds=this.prefetchIndexSlotIds.slice(),prefetch.slotIdsInPrefetch=this.prefetchIndexSlotIds.slice(),prefetch.analyticsCallback=i,r(t,this.prefetchIndexSlotIds)},this.getDemand=function e(a,i,o){var d;if("page"===targetingType&&(i.htSlots?(d=i.gCorrelator,i=i.htSlots):(d=i,i=Utils.getSlots())),prefetch.state===prefetchState.IN_PROGRESS){for(var s=getKeys(mapSlots(i)),l=!1,p=0,u=s.length;p<u;p++){var g=prefetch.slotIdsInPrefetch.indexOf(s[p]);g!==-1&&(prefetch.slotIdsInPrefetch.splice(g,1),l=!0)}if(l)return void prefetch.callbacks.push(e.bind(n,a,i,o))}var f={};if(prefetch.state===prefetchState.READY&&(prefetch.demand&&prefetch.demand.length>0&&prefetch.slotIds.length&&parseResults(null,!1,i),demandStore.slot)){f.slot=f.slot||{};for(var h=i.length-1;h>=0;h--){var m=i[h].getSlotElementId();if(demandStore.slot.hasOwnProperty(m)){if((c.demandExpiry<0||Utils.now()-demandStore.slot[m].timestamp<=c.demandExpiry)&&(f.slot[m]=demandStore.slot[m],i.splice(h,1)),"page"===targetingType&&d===prefetch.gCorrelator)continue;delete demandStore.slot[m]}}if(prefetch.timestamp&&Utils.now()-prefetch.timestamp>c.demandExpiry&&(prefetch.slotIds=[],prefetch.demand=[],delete prefetch.timestamp),Utils.validateNonEmptyObject(demandStore.slot)||prefetch.slotIds.length||(prefetch.state=prefetchState.USED,delete prefetch.timestamp),!i.length)return void o(null,convertSlotDemandObject(f,d))}cb[a]=function(e,r){return e?void o(e):void o(null,convertSlotDemandObject(t(f,r),d))},dSlots[a]=i,ixSlots[a]=mapSlots(i);var y=getKeys(ixSlots[a]);return y.length?void r(a,y):o(null,convertSlotDemandObject(f))}}function init(e,t){var r=[];return Utils=window.headertag.Utils,e.hasOwnProperty("targetingType")&&!validateTargetingType(e.targetingType)&&(r.push("targetingType either not set or invalid. Defaulting to using slot level targeting."),e.targetingType="slot"),e.hasOwnProperty("publicKey")&&!Utils.validateNonEmptyString(e.publicKey)&&(r.push("Private key is not a string. Defaulting value to IOM"),e.publicKey="IOM"),e.hasOwnProperty("privateKey")&&!Utils.validateNonEmptyString(e.privateKey)&&(r.push("Private key is not a string. Defaulting value to IPM"),e.privateKey="IPM"),e.hasOwnProperty("privateIdKey")&&!Utils.validateNonEmptyString(e.privateIdKey)&&r.push("Private ID key is not a string"),e.hasOwnProperty("idKey")&&!Utils.validateNonEmptyString(e.idKey)&&r.push("ID key is not a string"),e.hasOwnProperty("targetingMode")&&(Utils.validateNonEmptyString(e.targetingMode)?e.targetingMode!==TARGETING_MODE.LEGACY&&e.targetingMode!==TARGETING_MODE.STANDARD&&e.targetingMode!==TARGETING_MODE.ADVANCED&&r.push("Targeting Mode is not a supported value"):r.push("Targeting Mode is not a string")),e.hasOwnProperty("usermatch")&&(Utils.isBoolean(e.usermatch)||r.push("Usermatch is not a valid boolean")),r.length?t(r,new Partner(e)):void t(null,new Partner(e))}var PARTNER_ID="INDX",SUPPORTED_TARGETING_TYPES={page:!0,slot:!0},SUPPORTED_ANALYTICS={time:!0,demand:!0},SUPPORTED_OPTIONS={prefetch:!0,demandExpiry:5e4},prefetchState={NEW:1,IN_PROGRESS:2,READY:3,USED:4},TARGETING_MODE={LEGACY:"legacy",STANDARD:"standard",ADVANCED:"advanced"},prefetch={state:prefetchState.NEW,demand:null,correlator:null,slotIds:[],callbacks:[]},Network=window.headertag.Network,demandStore={},headerTagArgs,indexDemandList,headerTagPublicKey,headerTagPrivateKey,headerTagPrivateIdKey,headerTagIdKey,targetingMode,targetIDMap,adId,cb={},correlatorTracker={},ESCAPABLE=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,META={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},indexRequestData,dSlots={},ixSlots={},targetingType,Utils,demandExpiry=15e3;OpenRTBRequest.prototype.serialize=function(){var e,t,r,a='{"id":'+this.requestID+',"site":{"page":"'+quote(this.sitePage)+'"';for("string"==typeof document.referrer&&(a+=',"ref":"'+quote(document.referrer)+'"'),a+='},"imp":[',r=0;r<this.impressions.length;r++)e=this.impressions[r],t=[],a+='{"id":"'+e.id+'", "banner":{"w":'+e.w+',"h":'+e.h+',"topframe":'+String(this.topframe)+"}","number"==typeof e.bidfloor&&(a+=',"bidfloor":'+e.bidfloor,"string"==typeof e.bidfloorcur&&(a+=',"bidfloorcur":"'+quote(e.bidfloorcur)+'"')),"string"!=typeof e.slotID||e.slotID.match(/^\s*$/)||t.push('"sid":"'+quote(e.slotID)+'"'),"number"==typeof e.siteID&&t.push('"siteID":'+e.siteID),t.length>0&&(a+=',"ext": {'+t.join()+"}"),a+=r+1==this.impressions.length?"}":"},";return a+="]}"},OpenRTBRequest.prototype.addImpression=function(e,t,r,a,n,i){var o={id:String(this.impressions.length+1)};if("number"!=typeof e||e<=1)return null;if("number"!=typeof t||t<=1)return null;if(("string"==typeof n||"number"==typeof n)&&String(n).length<=50&&(o.slotID=String(n)),o.w=e,o.h=t,void 0!==r&&"number"!=typeof r)return null;if("number"==typeof r){if(r<0)return null;if(o.bidfloor=r,void 0!==a&&"string"!=typeof a)return null;o.bidfloorcur=a}if("undefined"!=typeof i){if(!("number"==typeof i&&i%1===0&&i>=0))return null;o.siteID=i}return this.impressions.push(o),o.id},OpenRTBRequest.prototype.sendRequestAsync=function(correlator,isPrefetch){if(0===this.impressions.length)return void(cb.hasOwnProperty(correlator)&&(cb[correlator](null,{}),delete cb[correlator]));var jsonURI=encodeURIComponent(this.serialize()),scriptSrc="https:"===window.location.protocol?"https://as-sec.casalemedia.com":"http://as.casalemedia.com";scriptSrc+="/cygnus?v=7&fn=headertag_parse&s="+this.siteID+"&r="+jsonURI,Network.ajax({url:scriptSrc,method:"GET",partnerId:"INDX",jsonp:!0,withCredentials:!0,onSuccess:function(responseText){responseText&&eval(responseText)},onFailure:function(){cb.hasOwnProperty(correlator)&&(cb[correlator](["Unable to get demand from cygnus"]),delete cb[correlator])}})},window.headertag_parse=function(e){function t(e,t){indexDemandList.push(e+t),void 0===indexRequestData.targetIDToBid[t]?(indexRequestData.targetIDToBid[t]=[i.adm],indexRequestData.correlator[t]=[r]):(indexRequestData.targetIDToBid[t].push(i.adm),indexRequestData.correlator[t].push(r)),l={},l.impressionID=i.impid,"undefined"!=typeof i.ext.dealid&&(l.dealID=i.ext.dealid),l.bid=i.price,l.slotID=o,l.priceLevel=i.ext.pricelevel,l.target=e+t,u.push(l)}var r;try{if(indexDemandList=[],e){if("object"!=typeof indexRequestData||"object"!=typeof indexRequestData.impIDToSlotID||"undefined"==typeof indexRequestData.impIDToSlotID[e.id])return;var a,n=0;"object"==typeof indexRequestData.reqOptions&&"object"==typeof indexRequestData.reqOptions[e.id]&&("function"==typeof indexRequestData.reqOptions[e.id].callback&&(a=indexRequestData.reqOptions[e.id].callback),"number"==typeof indexRequestData.reqOptions[e.id].targetMode&&(n=indexRequestData.reqOptions[e.id].targetMode)),indexRequestData.lastRequestID=e.id,r=correlatorTracker[e.id];var i,o,d,s,l,c,p,u=[],g="undefined"==typeof e.seatbid?0:e.seatbid.length;for(c=0;c<g;c++)for(p=0;p<e.seatbid[c].bid.length;p++)i=e.seatbid[c].bid[p],"object"==typeof i.ext&&"string"==typeof i.ext.pricelevel&&"undefined"!=typeof indexRequestData.impIDToSlotID[e.id][i.impid]&&(o=indexRequestData.impIDToSlotID[e.id][i.impid],"undefined"==typeof indexDemandList&&(indexDemandList=[]),"undefined"==typeof indexRequestData.targetIDToBid&&(indexRequestData.targetIDToBid={}),"undefined"==typeof indexRequestData.correlator&&(indexRequestData.correlator={}),"string"==typeof i.ext.dealid?(s=headerTagPrivateKey+"_",targetingMode===TARGETING_MODE.STANDARD||targetingMode===TARGETING_MODE.ADVANCED?(d=o+i.ext.pricelevel+"_"+i.ext.dealid,t(s,d)):1===n?(d=o+i.ext.pricelevel,t(s,d)):2===n?(d=o+i.ext.pricelevel,t(s,d),d=o+"_"+i.ext.dealid,t(s,d)):(d=o+"_"+i.ext.dealid,t(s,d))):(s=headerTagPublicKey+"_",d=o+i.ext.pricelevel,t(s,d)));"function"==typeof a&&(0===u.length?a(e.id):a(e.id,u)),indexDemandList=cygnus_index_judge(indexDemandList.slice(0))}}catch(e){}"undefined"==typeof indexDemandList&&(indexDemandList=[]),parseResults(e.id,correlatorTracker[e.id]===prefetch.correlator)},window.index_render=function(e,t){var r,a,n,i,o,d,s;"undefined"==typeof index_demand&&(window.index_demand={}),s=t.split("_"),r=s[0];try{if(a=indexRequestData.targetIDToBid[t].pop(),"undefined"!=typeof a&&null!==a)e.write(a),index_demand[r]=1,delete index_no_demand[r];else{for(n={},j=0;j<headerTagArgs.slots.length;j++)if(headerTagArgs.slot[j].id===r){n.s=headerTagArgs.slot[j].siteID;break}n.hasOwnProperty("s")||(n.s=0),n.u=encodeURIComponent(location.href),n.type="RT",n.r=correlator,n.blank="["+t+"]",i=Utils.objToQueryString(n),o=("https:"===location.protocol?"https://as-sec.":"http://as.")+"casalemedia.com/headerstats"+i,d=new XMLHttpRequest,d.open("GET",o,!0),d.send()}}catch(e){}},window.headertag_render=function(e,t,r){var a,n,i=r,o=t.split(",");for(a=0;a<o.length;a++)if(n=o[a].split("_"),n[0]==i)return void window.index_render(e,o[a])},window.headertag.IxModule=window.headertag.IxModule||{},window.headertag.IxModule.render=function(e,t,r,a){if(e&&t&&r&&a)try{var n=t[headerTagIdKey],i=targetIDMap[n][r+"x"+a];window.index_render(e,i),e.close(),targetingMode===TARGETING_MODE.ADVANCED&&e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=r,e.defaultView.frameElement.height=a)}catch(e){}},window.headertag.registerPartner(PARTNER_ID,init)}),window.headertag.partnerScopes.push(function(){"use strict";function validateTargetingType(e){return"string"==typeof e&&SUPPORTED_TARGETING_TYPES[e]}function init(e,t){var r=[];if(e.hasOwnProperty("targetingType")&&validateTargetingType(e.targetingType)||r.push("targetingType either not provided or invalid."),e.hasOwnProperty("deliveryDomain")&&Utils.validateNonEmptyString(e.deliveryDomain)||r.push("deliveryDomain either not provided or invalid."),e.hasOwnProperty("debug")&&!Utils.validateBoolean(e.debug)&&r.push("debug invalid."),e.hasOwnProperty("timeout")&&!Utils.isInteger(e.timeout)&&r.push("timeout invalid."),e.hasOwnProperty("adUnits")&&Utils.validateNonEmptyObject(e.adUnits)){for(var a in e.adUnits)if(e.adUnits.hasOwnProperty(a))for(var n=e.adUnits[a],i=0,o=n.length;i<o;i++){var d=n[i];if(d.hasOwnProperty("auid")&&Utils.validateNonEmptyString(d.auid)||r.push("placementId not provided or invalid."),d.hasOwnProperty("sizes")&&Utils.isArray(d.sizes)&&d.sizes.length)for(var s=0,l=d.sizes.length;s<l;s++){var c=d.sizes[s];Utils.isArray(c)&&2===c.length&&Utils.isInteger(c[0])&&Utils.isInteger(c[1])||r.push("size not provided or invalid.")}else r.push("sizes not provided or invalid.")}}else r.push("adUnits either not provided or invalid.");if(e.hasOwnProperty("roundingBuckets")){var p=e.roundingBuckets;if(p.hasOwnProperty("buckets")&&Utils.isArray(p.buckets))for(var u=0,g=p.buckets.length;u<g;u++){var f=p.buckets[u];Utils.isArray(f.range)&&2===f.range.length?Utils.isNumber(f.range[0])&&Utils.isNumber(f.range[1])||r.push("range not provided or invalid."):r.push("range not provided or invalid."),f.hasOwnProperty("granularity")&&!isNaN(f.granularity)||r.push("granularity not provided or invalid.")}else r.push("buckets either not provided or invalid.")}if(e.hasOwnProperty("targetKeyOverride")&&(Utils.validateNonEmptyObject(e.targetKeyOverride)?(e.targetKeyOverride.omKey&&!Utils.validateNonEmptyString(e.targetKeyOverride.omKey)&&r.push("targetKeyOverride.omKey must be a non-empty string"),e.targetKeyOverride.pmKey&&!Utils.validateNonEmptyString(e.targetKeyOverride.pmKey)&&r.push("targetKeyOverride.pmKey must be a non-empty string"),e.targetKeyOverride.idKey&&!Utils.validateNonEmptyString(e.targetKeyOverride.idKey)&&r.push("targetKeyOverride.idKey must be a non-empty string")):r.push("targetKeyOverride must be a non-empty object")),r.length)return void t(r);var h=new Partner(e);window.headertag.OpenXModule=window.headertag.OpenXModule||{},window.headertag.OpenXModule.render=h.oxRenderAd,t(null,h)}function Partner(config){function parseSizesInput(e){for(var t="",r=0;r<e.length;r++)t+=e[r][0]+"x"+e[r][1]+",";return t=t.slice(0,-1)}function getRequiredAdUnits(e){for(var t=[],r=0;r<e.length;r++){var a=Utils.validateFunction(e[r].getSlotElementId)?e[r].getSlotElementId():e[r];if(__adUnits.hasOwnProperty(a))for(var n=__adUnits[a],i=0;i<n.length;i++){t.push(n[i]);for(var o=0;o<n[i].sizes.length;o++){var d=n[i].sizes[o][0],s=n[i].sizes[o][1],l=n[i].auid+"_"+d+"x"+s;__auidSizeToHtSlotMapping[l]=a}}}return t}function getRequestUrl(e,t){var r=getRequiredAdUnits(e);if(0===r.length)return"";for(var a=protocol+deliveryDomain+"/w/1.0/arj",n="",i="",o=0;o<r.length;o++){var d=r[o];n+=d.auid+",",i+=parseSizesInput(d.sizes)+"|"}n&&(n=n.slice(0,-1)),i&&(i=i.slice(0,-1));var s={auid:encodeURIComponent(n),aus:encodeURIComponent(i),ju:pageUrl,jr:pageUrl,ch:"UTF-8",tz:encodeURIComponent(tz),bc:"hb_ix",be:1,res:(screen.width||0)+"x"+(screen.height||0),tws:(window.innerWidth||0)+"x"+(window.innerHeight||0),ifr:window!==window.top?"1":"0",callback:"window."+t,cache:(new Date).getTime()},l=Utils.objToQueryString(s),c=a+l;return c}function round(e){return __bidRoundingTransformer.transformBid(e)}function openxArjCallback(e,t){var r=Utils.now()-oxReqStartTime[t],a={};if(e.hasOwnProperty("ads")){if(e.ads.hasOwnProperty("pixels")){var n='<iframe src="'+e.ads.pixels+'" width="0" height="0" style="display:none;"></iframe>',i=window.document.createElement("div");i.innerHTML=n;var o=i.firstChild;window.document.body&&window.document.body.appendChild(o)}var d=getSequentialId();if(e.ads.hasOwnProperty("ad"))for(var s,l,c,p=e.ads.ad,u=0;u<p.length;u++){c="t",l="";var g=p[u];if(s=g.ts,g.hasOwnProperty("adunitid")&&g.hasOwnProperty("pub_rev")){0!==Number(g.pub_rev)&&(c="p",l=g.pub_rev);var f=round(g.pub_rev),h=g.adunitid,m=String(g.deal_id),y=g.creative[0],v=g.html,b=y.width,w=y.height,I=b+"x"+w,S=I+"_"+f,T=I+"_"+m,O=h+"_"+I,_=__auidSizeToHtSlotMapping[O]?__auidSizeToHtSlotMapping[O]:"",P=_.replace(/-/g,"")+d;0!==Number(f)&&(__ads[P]=__ads[P]||{},__ads[P][I]={html:v,width:b,height:w,auid:h},a[_]=a[_]||{},a[_].hasOwnProperty(targetKeys.om)?a[_][targetKeys.om]=a[_][targetKeys.om]+","+S:a[_][targetKeys.om]=S,a[_][targetKeys.id]=P,g.hasOwnProperty("auct_win_is_deal")&&1===Number(g.auct_win_is_deal)&&g.hasOwnProperty("deal_id")&&(a[_].hasOwnProperty(targetKeys.pm)?a[_][targetKeys.pm]=a[_][targetKeys.pm]+","+T:a[_][targetKeys.pm]=T));var D={br:encodeURIComponent(c),bt:encodeURIComponent(timeout),bd:encodeURIComponent(r),bs:window.top.location.hostname,bp:encodeURIComponent(l),ts:encodeURIComponent(s)};__beaconStore[t]=__beaconStore[t]||[],__beaconStore[t].push(D)}}}return a}function sendBeaconRequest(e){var t=Utils.objToQueryString(e);Network.ajax({url:beaconUrl+t,method:"GET",partnerId:"OPENX",jsonp:!0,withCredentials:!0})}function generateResponseCallback(e,t){return function(r){__adResponseStore[e]=r,delete window[t]}}function sendDemandRequest(slots,callback,correlator){var requestId=getUniqueCallbackId(),callbackName="ix_ox_cb"+requestId,reqUrl=getRequestUrl(slots,callbackName);if(!reqUrl)return void callback(null,{});window[callbackName]=generateResponseCallback(requestId,callbackName);var noTimeout=!0;oxReqStartTime[correlator]=Utils.now(),Network.ajax({url:reqUrl,method:"GET",partnerId:"OPENX",jsonp:!0,withCredentials:!0,continueAfterTimeout:!0,onSuccess:function(responseText){responseText&&eval(responseText);var responseObj=__adResponseStore[requestId];delete __adResponseStore[requestId],noTimeout=callback(null,openxArjCallback(responseObj,correlator)),noTimeout="undefined"==typeof noTimeout||noTimeout;for(var beaconsToSend=__beaconStore[correlator]||[],i=0;i<beaconsToSend.length;i++){var beaconObj=beaconsToSend[i];noTimeout||(beaconObj.br="t"),sendBeaconRequest(beaconObj)}},onFailure:function(){callback("No demand response.")}})}var _this=this,targetingType=config.targetingType,supportedAnalytics=SUPPORTED_ANALYTICS,supportedOptions=SUPPORTED_OPTIONS,__prefetch={state:prefetchState.NEW,correlator:null,gCorrelator:null,slotIds:[],callbacks:[]},__demandStore={},__beaconStore={},__auidSizeToHtSlotMapping={},__ads={},__adResponseStore={},__adUnits=config.adUnits,debugEnabled=config.debug||!1,timeout=config.timeout||1e3,deliveryDomain=config.deliveryDomain,protocol=("https:"===window.location.protocol?"https":"http")+"://",beaconUrl=protocol+deliveryDomain+"/w/1.0/bo",pageUrl=debugEnabled?"http://mySite.com/":Utils.getPageUrl();pageUrl=encodeURIComponent(pageUrl);var tz=(new Date).getTimezoneOffset(),oxReqStartTime={},__roundingBuckets=config.roundingBuckets?config.roundingBuckets:{buckets:[{range:[0,Number.POSITIVE_INFINITY],granularity:.01}]},transformRoundingBuckets=function(e){var t={inputCentsMultiplier:.1,outputCentsDivisor:1,outputPrecision:0,roundingType:1,floor:0,buckets:[]};e.hasOwnProperty("inputCentsMultiplier")&&(t.inputCentsMultiplier=e.inputCentsMultiplier),e.hasOwnProperty("outputCentsDivisor")&&(t.outputCentsDivisor=e.outputCentsDivisor),e.hasOwnProperty("outputPrecision")&&(t.outputPrecision=e.outputPrecision),e.hasOwnProperty("roundingType")&&(t.roundingType=e.roundingType),t.floor=100*e.buckets[0].range[0];for(var r=0;r<e.buckets.length;r++)t.buckets.push({max:100*e.buckets[r].range[1],step:100*e.buckets[r].granularity});return t};__roundingBuckets=transformRoundingBuckets(__roundingBuckets);var __bidRoundingTransformer=BidRoundingTransformer(__roundingBuckets);config.targetKeyOverride&&(config.targetKeyOverride.omKey&&(targetKeys.om=config.targetKeyOverride.omKey),config.targetKeyOverride.pmKey&&(targetKeys.pm=config.targetKeyOverride.pmKey),config.targetKeyOverride.idKey&&(targetKeys.id=config.targetKeyOverride.idKey)),this.getPartnerTargetingType=function(){return targetingType},this.getSupportedAnalytics=function(){return supportedAnalytics},this.getSupportedOptions=function(){return supportedOptions},this.getPartnerDemandExpiry=function(){return supportedOptions.demandExpiry},this.setPartnerTargetingType=function(e){return!!validateTargetingType(e)&&(targetingType=e,!0)},this.oxRenderAd=function(e,t,r,a){if(e)try{var n=t[targetKeys.id][0],i=r+"x"+a,o=__ads[n][i];if(o){var d=o.html;o.auid;d&&(e.write(d),e.close())}}catch(e){}};var getUniqueCallbackId=function(){var e=0;return function(){var t="_"+e+"_"+(9999*Math.random()|0);return e++,t}}(),getSequentialId=function(){var e=0;return function(){return e++}}();this.prefetchDemand=function(e,t,r){var a=[];t.hasOwnProperty("divIds")&&(a=t.divIds.slice()),__prefetch.state=prefetchState.IN_PROGRESS,__prefetch.correlator=e,__prefetch.slotIds=a.slice(),__demandStore[e]={slot:{}};for(var n=0;n<a.length;n++)__demandStore[e].slot[a[n]]={};sendDemandRequest(a,function(t,a){if(!t)for(var n in a)a.hasOwnProperty(n)&&(__demandStore[e].slot[n]={timestamp:Utils.now(),demand:a[n]});__prefetch.state=prefetchState.READY,r(e);for(var i=0,o=__prefetch.callbacks.length;i<o;i++)setTimeout(__prefetch.callbacks[i],0)},e)},this.getDemand=function e(t,r,a){if(__prefetch.state===prefetchState.IN_PROGRESS){for(var n=Utils.getDivIds(r),i=!1,o=0,d=n.length;o<d;o++){var s=__prefetch.slotIds.indexOf(n[o]);s!==-1&&(__prefetch.slotIds.splice(s,1),i=!0)}if(i)return void __prefetch.callbacks.push(e.bind(_this,t,r,a))}var l={slot:{}};if(__prefetch.state===prefetchState.READY){for(var c=r.length-1;c>=0;c--){var p=r[c].getSlotElementId();__demandStore[__prefetch.correlator].slot.hasOwnProperty(p)&&((supportedOptions.demandExpiry<0||Utils.now()-__demandStore[__prefetch.correlator].slot[p].timestamp<=supportedOptions.demandExpiry)&&(l.slot[p]=__demandStore[__prefetch.correlator].slot[p],r.splice(c,1)),delete __demandStore[__prefetch.correlator].slot[p])}if(Utils.validateNonEmptyObject(__demandStore[__prefetch.correlator].slot)||(__prefetch.state=prefetchState.USED),!r.length)return void a(null,l)}sendDemandRequest(r,function(e,t){if(e)return void a(e);for(var r in t)t.hasOwnProperty(r)&&(l.slot[r]={timestamp:Utils.now(),demand:t[r]});return a(null,l)},t)}}var PARTNER_ID="OPENX",SUPPORTED_TARGETING_TYPES={page:!1,slot:!0},SUPPORTED_ANALYTICS={time:!0,demand:!0},SUPPORTED_OPTIONS={prefetch:!0,demandExpiry:-1},prefetchState={NEW:1,IN_PROGRESS:2,READY:3,USED:4},targetKeys={om:"ix_ox_om",id:"ix_ox_id",pm:"ix_ox_pm"},Utils=window.headertag.Utils,Network=window.headertag.Network,BidRoundingTransformer=window.headertag.BidRoundingTransformer;window.headertag.registerPartner(PARTNER_ID,init)}),window.headertag.partnerScopes.push(function(){"use strict";function e(e){return"string"==typeof e&&n[e]}function t(e,t){var a=new r(e);window.headertag.PubmaticModule=window.headertag.PubmaticModule||{},window.headertag.PubmaticModule.render=a.renderAd,t(null,a)}function r(t){function r(e){for(var t=[],r=0,a=e.length;r<a;r++)if(S.hasOwnProperty(e[r]))for(var n=0;n<S[e[r]].length;n++){var i=S[e[r]][n];t.push(i)}return t}function a(e,r){var a="//ads.pubmatic.com/AdServer/js/gshowad.js";window.pm_pub_id=t.pubId,window.pm_optimize_adslots=e,window.pm_async_callback_fn=r;s.addScriptTag(a,!1)}function n(e,t){var r={slotMap:{},adslotToHtMap:{}};for(var a in t)if(t.hasOwnProperty(a)){r.slotMap[a]=[];for(var n=0;n<t[a].length;n++){var i=t[a][n];r.slotMap[a].push(e[i].adslot),r.adslotToHtMap[e[i].adslot]=a}}return r}function c(e,t){var r,a={};try{for(var n in t){var i=T[n];if(t.hasOwnProperty(n)){var o=t[n],d=e[n];a[i]=a[i]||{},a[i].timestamp=s.now(),a[i].demand=a[i].demand||{};var l=o.width+"x"+o.height+"_"+b.transformBid(o.ecpm);if(0!==o.ecpm){var c=d.split(/wdeal.(.*?)(;|$)/)[1];c?a[i].demand.hasOwnProperty(v.pmKey)?(a[i].demand[v.pmKey].push(l),a[i].demand[v.pmidKey].push(c)):(a[i].demand[v.pmKey]=[l],a[i].demand[v.pmidKey]=[c]):a[i].demand.hasOwnProperty(v.omKey)?a[i].demand[v.omKey].push(l):a[i].demand[v.omKey]=[l],a[i].demand.hasOwnProperty(v.idKey)?r=a[i].demand[v.idKey]:(r=O(),a[i].demand[v.idKey]=[r]),y[r]=y[r]||{},y[r][o.width+"x"+o.height]=y[r][o.width+"x"+o.height]||{},y[r][o.width+"x"+o.height].ad=o.creative_tag,y[r][o.width+"x"+o.height].pixel=o.tracking_url}}}}catch(e){}return a}var p=this,u=t.targetingType,g=i,f=o,h={state:d.NEW,correlator:null,slotIds:[],callbacks:[]},m={},y={},v={omKey:"ix_pubm_om",pmKey:"ix_pubm_pm",pmidKey:"ix_pubm_pmid",idKey:"ix_pubm_id"};t.targetKeyOverride&&(t.targetKeyOverride.omKey&&(v.omKey=t.targetKeyOverride.omKey),t.targetKeyOverride.pmKey&&(v.pmKey=t.targetKeyOverride.pmKey),t.targetKeyOverride.pmidKey&&(v.pmidKey=t.targetKeyOverride.pmidKey),t.targetKeyOverride.idKey&&(v.idKey=t.targetKeyOverride.idKey));var b,w={floor:0,inputCentsMultiplier:100,outputCentsDivisor:100,outputPrecision:2,roundingType:1,buckets:[{max:2e3,step:5},{max:5e3,step:100}]};t.roundingBuckets&&(w=t.roundingBuckets),b=l(w);var I=n(t.xSlots,t.mapping),S=I.slotMap,T=I.adslotToHtMap;this.getPartnerTargetingType=function(){return u},this.getSupportedAnalytics=function(){return g},this.getSupportedOptions=function(){return f},this.getPartnerDemandExpiry=function(){return f.demandExpiry},this.setPartnerTargetingType=function(t){return!!e(t)&&(u=t,!0)};var O=function(){var e=0;return function(){var t=e+"_"+(9999*Math.random()|0);return e++,t}}();this.prefetchDemand=function(e,t,n){h.state=d.IN_PROGRESS,h.correlator=e,h.slotIds=t.divIds.slice(),m[e]={},m[e].slot={};var i=r(t.divIds);for(var o in i){var l=i[o];if(i.hasOwnProperty(o)&&T.hasOwnProperty(l)){var p=T[l];m[e].slot[p]={timestamp:s.now(),demand:{}}}}s.isEmpty(i)||(headertag.PubmaticModule.demandStoreCallback=function(){var t={progKeyValueMap:window.progKeyValueMap,bidDetailsMap:window.bidDetailsMap},r=c(t.progKeyValueMap,t.bidDetailsMap);for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];if(m[e].slot[a]=m[e].slot[a]||{},m[e].slot[a].timestamp=s.now(),m[e].slot[a].demand=m[e].slot[a].demand||{},i.demand)for(var o in i.demand)i.demand.hasOwnProperty(o)&&(m[e].slot[a].demand.hasOwnProperty(o)?m[e].slot[a].demand[o].push(i.demand[o]):m[e].slot[a].demand[o]=[i.demand[o]])}h.state=d.READY,n(e);for(var l=0,p=h.callbacks.length;l<p;l++)setTimeout(h.callbacks[l],0)},a(i,"headertag.PubmaticModule.demandStoreCallback"))},this.getDemand=function e(t,n,i){if(h.state===d.IN_PROGRESS){for(var o=s.getDivIds(n),l=!1,u=0,g=o.length;u<g;u++){var y=h.slotIds.indexOf(o[u]);y!==-1&&(h.slotIds.splice(y,1),l=!0)}if(l)return void h.callbacks.push(e.bind(p,t,n,i))}var v={slot:{}};if(h.state===d.READY){for(var b=n.length-1;b>=0;b--){var w=n[b].getSlotElementId();m[h.correlator].slot.hasOwnProperty(w)&&((f.demandExpiry<0||s.now()-m[h.correlator].slot[w].timestamp<=f.demandExpiry)&&(v.slot[w]=m[h.correlator].slot[w],n.splice(b,1)),delete m[h.correlator].slot[w])}if(s.validateNonEmptyObject(m[h.correlator].slot)||(h.state=d.USED),!n.length)return void i(null,v)}var I=r(s.getDivIds(n));I.length?(headertag.PubmaticModule.demandCallback=function(){var e={progKeyValueMap:window.progKeyValueMap,bidDetailsMap:window.bidDetailsMap},t=c(e.progKeyValueMap,e.bidDetailsMap);for(var r in t)if(t.hasOwnProperty(r)){var a=t[r];if(v.slot[r]=v.slot[r]||{},v.slot[r].timestamp=s.now(),v.slot[r].demand=v.slot[r].demand||{},a.demand)for(var n in a.demand)a.demand.hasOwnProperty(n)&&(v.slot[r].demand.hasOwnProperty(n)?v.slot[r].demand[n].push(a.demand[n]):v.slot[r].demand[n]=[a.demand[n]])}i(null,v)},a(I,"headertag.PubmaticModule.demandCallback")):i(null,v)},this.renderAd=function(e,t,r,a){if(e&&t&&r&&a)try{var n=t[v.idKey][0],i=decodeURIComponent(y[n][r+"x"+a].ad),o=decodeURIComponent(y[n][r+"x"+a].pixel);e.open(),e.write(i),e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=r,e.defaultView.frameElement.height=a),e.write('<iframe frameborder="0" allowtransparency="true" marginheight="0" marginwidth="0" scrolling="no" width="0" hspace="0" vspace="0" height="0" style="height:0p;width:0p;display:none;" src="'+o+'"></iframe>'),e.close()}catch(e){}}}var a="PUBM",n={page:!1,slot:!0},i={time:!0,demand:!0},o={prefetch:!0,demandExpiry:-1},d={NEW:1,IN_PROGRESS:2,READY:3,USED:4},s=window.headertag.Utils,l=(window.headertag.Network,window.headertag.BidRoundingTransformer);window.PubMaticGrouped=window.PubMaticGrouped||{},window.PubMaticGrouped.LMC=window.PubMaticGrouped.LMC||function(e){},window.headertag.registerPartner(a,t)}),function(){"use strict";function e(e){function i(e){e=e.slice();for(var t=e.length-1;t>=0;t--){var a;if(a=r.isString(e[t])?e[t]:e[t].getSlotElementId(),Y.hasOwnProperty(a)){var n=Y[a];n.getDeviceType()&&n.getDeviceType()!==F()&&e.splice(t,1)}}return e}function o(e,t){if(e&&!r.isEmpty(e))for(var a=r.getDivIdToGSlotMap(t),n=0;n<e.length;n++){var i=e[n];if(i.page)for(var o in i.page)i.page.hasOwnProperty(o)&&(window.googletag.pubads().setTargeting(o,i.page[o]),A.page[o]=!0);else for(var d in i.slot)if(i.slot.hasOwnProperty(d)&&a.hasOwnProperty(d)){var s=i.slot[d].demand;for(var l in s)s.hasOwnProperty(l)&&(a[d].setTargeting(l,s[l]),A.slot[d]=A.slot[d]||{},A.slot[d][l]=!0)}}}function d(e){for(var t in A.page)A.page.hasOwnProperty(t)&&(window.googletag.pubads().clearTargeting(t),delete A.page[t]);for(var r=0;r<e.length;r++){var a=e[r].getSlotElementId();if(A.slot.hasOwnProperty(a)){for(var n in A.slot[a])A.slot[a].hasOwnProperty(n)&&e[r].setTargeting(n,"");delete A.slot[a]}}}function s(e,a,n){var i=t.defer();n=n.slice();var o=null,d=!1,s=R[a].getPartnerTargetingType(),l=function(t,n){return D[e]!==E.DONE&&!d&&(clearTimeout(o),R[a].getSupportedAnalytics().time&&P.stopPartnerTimer(e,a),t?(i.resolve(),!0):r.isEmpty(n)?(i.resolve(),!0):(R[a].getSupportedAnalytics().demand&&P.recordReturnedDemand(e,a,s,n),i.resolve(n),!0))};K[a]&&(o=setTimeout(function(){d=!0,i.resolve()},K[a])),R[a].getSupportedAnalytics().time&&P.startPartnerTimer(e,a,K[a]);try{"page"===s?R[a].getDemand(e,X,l):R[a].getDemand(e,n,l)}catch(e){}return i}function l(e,t){for(var r={selectedHtSlots:[],htSlotToGSlotMap:{}},a=0;a<W.length;a++){var i=W[a],o=n[i](e,t);r.selectedHtSlots=r.selectedHtSlots.concat(o.selectedHtSlots);for(var d in o.htSlotToGSlotMap)o.htSlotToGSlotMap.hasOwnProperty(d)&&(r.htSlotToGSlotMap[d]=o.htSlotToGSlotMap[d])}return r}function c(e,a){var n=t.defer();D[e]=E.IN_PROGRESS;var o=[],d=[];a=a.slice();var c=i(V),p=l(c,a);if(!p.selectedHtSlots.length)return n.resolve(),n.promise;P.startSessionTimer(e);for(var u=Object.keys(R);u.length;){var g=r.randomSplice(u);if(!N[g]){var f=s(e,g,p.selectedHtSlots);o.push(f),d.push(f.promise)}}var h=null,m=!1;return x&&(h=setTimeout(function(){m=!0;for(var e=0;e<o.length;e++)o[e].resolve()},x)),t.all(d).then(function(t){m||clearTimeout(h),D[e]=E.DONE,P.stopSessionTimer(e);var r=[];t.map(function(e){if(e)if(e.page)r.push(e);else{var t=e.slot,a={slot:{}};for(var n in t)if(t.hasOwnProperty(n)){var i=p.htSlotToGSlotMap[n];a.slot[i]=t[n]}r.push(a)}}),n.resolve(r)}),n.promise}function p(e){q?q(e):window.googletag.display(e)}function u(e,t){j?j(e,t):window.googletag.pubads().refresh(e,t)}function g(e){B?B(e):window.googletag.destroySlots(e)}function f(){return G?G():window.googletag.pubads().enableSingleRequest()}function h(){return L?L():window.googletag.pubads().disableInitialLoad()}function m(t,a){function n(a,n){if((!a||n)&&(R[t]=n,N[t]=e.partners[t].disabled,K[t]=e.partners[t].timeout,!N[t]&&!k&&e.prefetch&&e.prefetch.enabled)){var d=[],s=window.headertag.pagetype;if(s&&e.prefetch.pageTypeMapping.hasOwnProperty(s)?d=e.prefetch.pageTypeMapping[s]:e.prefetch.defaultSet&&(d=e.prefetch.defaultSet),d=i(d),d&&d.length){var l=n.getSupportedOptions();if(l.prefetch&&o.prefetchEnabled){var c=r.generateCorrelator();P.startSessionTimer(c),P.startPartnerTimer(c,t,K[t]);var p=function(){P.stopPartnerTimer(c,t),P.stopSessionTimer(c),P.sendReport(c)},u={divIds:d};"page"===n.getPartnerTargetingType()?n.prefetchDemand(c,X,p):n.prefetchDemand(c,u,p)}}}}var o=e.partners[t];if(e.partners.hasOwnProperty(t))try{a(o,n)}catch(e){}}function y(e){try{if(!document.getElementById(e)||!r.divIdToGSlot(e))return p(e);var t;if(U)t=r.getSlots();else{var a=r.divIdToSlot(e);t=a?[a]:[]}for(var n=t.length-1;n>=0;n--)C.hasOwnProperty(t[n].getSlotElementId())&&t.splice(n,1);if(H)for(var i=t.length-1;i>=0;i--)document.getElementById(t[i].getSlotElementId())||t.splice(i,1);
if(!t.length)return;for(var s=0;s<t.length;s++)C[t[s].getSlotElementId()]=!0;if(!M)return p(e);k=!0;var l=r.generateCorrelator();c(l,t).then(function(r){d(t),o(r,t),p(e)}).then(function(){P.sendReport(l)}).catch(function(e){})}catch(t){p(e)}}function v(e,t,r,a){try{var n=googletag.defineSlot(e,t,r).addService(googletag.pubads());a&&n.setClickUrl(a),y(r)}catch(n){z(e,t,r,a)}}function b(e,t){try{e||(e=r.getSlots());for(var a=e.slice(),n=e.length-1;n>=0;n--)r.isObject(e[n])&&e[n].getSlotElementId&&document.getElementById(e[n].getSlotElementId())||e.splice(n,1);if(U)for(var i=0;i<e.length;i++)C[e[i].getSlotElementId()]=!0;else for(var s=e.length-1;s>=0;s--)C.hasOwnProperty(e[s].getSlotElementId())||e.splice(s,1);if(!e.length)return u(a,t);M||(k=!0),X=window.googletag.pubads().getCorrelator();var l=r.generateCorrelator();c(l,e).then(function(r){d(e),o(r,e),u(a,t)}).then(function(){P.sendReport(l)}).catch(function(e){})}catch(r){u(e,t)}}function w(){return{display:v.bind(O),refresh:b.bind(O)}}function I(e){try{e||(e=r.getSlots());for(var t=0;t<e.length;t++){var a=e[t].getSlotElementId();delete C[a]}g(e)}catch(t){g(e)}}function S(){return U=!0,f()}function T(){return M=!1,h()}var O,_,P,D,E,x,R,N,K,A,k,M,U,C,q,z,j,B,G,L,H,F,V,Y,W,X;!function(){if(e.hasOwnProperty("siteId")?r.isInteger(e.siteId)&&r.isInRange(e.siteId,0)||(e.siteId=0):e.siteId=0,e.hasOwnProperty("timeout")?r.isInteger(e.timeout)&&r.isInRange(e.timeout,1)||(e.timeout=1e3):e.timeout=1e3,e.hasOwnProperty("disableInitialLoad")?r.isBoolean(e.disableInitialLoad)||(e.disableInitialLoad=!1):e.disableInitialLoad=!1,e.hasOwnProperty("enableSingleRequest")?r.isBoolean(e.enableSingleRequest)||(e.enableSingleRequest=!0):e.enableSingleRequest=!0,e.hasOwnProperty("filterNonExistentGSlots")?r.isBoolean(e.filterNonExistentGSlots)||(e.filterNonExistentGSlots=!0):e.filterNonExistentGSlots=!0,e.hasOwnProperty("deviceTypeRef")?r.isString(e.deviceTypeRef)||r.isFunction(e.deviceTypeRef)||(e.deviceTypeRef=r.getDeviceTypeByUserAgent):e.deviceTypeRef=r.getDeviceTypeByUserAgent,!r.isObject(e.partners))throw new Error("Invalid `config.partners`, must be an object");if(!e.partners.hasOwnProperty("INDX"))throw new Error("Invalid `config.partners`, must include INDX");for(var t in e.partners)if(e.partners.hasOwnProperty(t)){var i=e.partners[t];i.hasOwnProperty("disabled")?r.isBoolean(i.disabled)||(i.disabled=!0):i.disabled=!1,i.hasOwnProperty("timeout")?r.isInteger(i.timeout)&&r.isInRange(i.timeout,0)||(i.timeout=0):i.timeout=0,i.hasOwnProperty("prefetchEnabled")?r.isBoolean(i.prefetchEnabled)||(i.prefetchEnabled=!1):i.prefetchEnabled=!1}O=this,_=e.siteId,P=new a(_),D={},E={IN_PROGRESS:0,DONE:1},x=e.timeout,R={},N={},K={},A={page:{},slot:{}},k=!1,M=!e.disableInitialLoad,U=e.enableSingleRequest,H=e.filterNonExistentGSlots,C={};var o=function(){e.overrideGoogletag&&(e.overrideGoogletag.display&&(q=window.googletag.display,window.googletag.display=y),e.overrideGoogletag.pubadsDisplay&&(z=window.googletag.pubads().display.bind(window.googletag.pubads()),window.googletag.pubads().display=v),e.overrideGoogletag.refresh&&(j=window.googletag.pubads().refresh.bind(window.googletag.pubads()),window.googletag.pubads().refresh=b),e.overrideGoogletag.destroySlots&&(B=window.googletag.destroySlots,window.googletag.destroySlots=I),e.overrideGoogletag.enableSingleRequest&&(G=window.googletag.pubads().enableSingleRequest.bind(window.googletag.pubads()),window.googletag.pubads().enableSingleRequest=S),e.overrideGoogletag.disableInitialLoad&&(L=window.googletag.pubads().disableInitialLoad.bind(window.googletag.pubads()),window.googletag.pubads().disableInitialLoad=T))};r.isArray(window.googletag.cmd)?window.googletag.cmd.unshift(o):window.googletag.cmd.push(o),V=[],Y={};for(var d in e.htSlots)if(e.htSlots.hasOwnProperty(d)){var s=e.htSlots[d];for(var l in s)if(s.hasOwnProperty(l)){var c=e.htSlots[d][l];c.deviceType=d;var p=n(l,c);V.push(p),Y[l]=p}}W=e.slotMappingTypes,F=e.deviceTypeRef,r.isString(e.deviceTypeRef)&&(F=function(){return e.deviceTypeRef}),X=0}(),this.apiReady=!0,this.version="1.5.21",this.registerPartner=m,this.display=y,this.pubads=w,this.destroySlots=I}var t=window.headertag.Promise,r=window.headertag.Utilities,a=window.headertag.HeaderStats,n=window.headertag.HeaderTagSlot;window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];try{var i=new e(window.headertagconfig);for(var o in window.headertag)window.headertag.hasOwnProperty(o)&&"display"!==o&&"pubads"!==o&&(i[o]=window.headertag[o]);window.headertag=i;for(var d=0;d<window.headertag.partnerScopes.length;d++)try{window.headertag.partnerScopes[d]()}catch(e){}}catch(e){window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.headertag=window.googletag}}();